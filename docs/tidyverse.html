<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Tidyverse | Data Processing &amp; Visualization</title>
  <meta name="description" content="The focus of this document is on common data processing and exploration techniques in R, especially as a prelude to visualization. The first part of the document will cover data structures, the dplyr and tidyverse packages, which enhance and facilitate the sorts of operations that typically arise when dealing with data, including faster I/O and grouped operations. For visualization, the focus will be on using ggplot2 and other packages that allow for interactivity. In addition, basic programming concepts and techniques are introduced. Exercises may be found in the document as well. In addition, the demonstrations of most content in Python is available via Jupyter notebooks." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Tidyverse | Data Processing &amp; Visualization" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://m-clark.github.io/data-processing-and-visualization/" />
  <meta property="og:image" content="https://m-clark.github.io/data-processing-and-visualization/img/nineteeneightyR.png" />
  <meta property="og:description" content="The focus of this document is on common data processing and exploration techniques in R, especially as a prelude to visualization. The first part of the document will cover data structures, the dplyr and tidyverse packages, which enhance and facilitate the sorts of operations that typically arise when dealing with data, including faster I/O and grouped operations. For visualization, the focus will be on using ggplot2 and other packages that allow for interactivity. In addition, basic programming concepts and techniques are introduced. Exercises may be found in the document as well. In addition, the demonstrations of most content in Python is available via Jupyter notebooks." />
  <meta name="github-repo" content="m-clark/data-processing-and-visualization/" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Tidyverse | Data Processing &amp; Visualization" />
  
  <meta name="twitter:description" content="The focus of this document is on common data processing and exploration techniques in R, especially as a prelude to visualization. The first part of the document will cover data structures, the dplyr and tidyverse packages, which enhance and facilitate the sorts of operations that typically arise when dealing with data, including faster I/O and grouped operations. For visualization, the focus will be on using ggplot2 and other packages that allow for interactivity. In addition, basic programming concepts and techniques are introduced. Exercises may be found in the document as well. In addition, the demonstrations of most content in Python is available via Jupyter notebooks." />
  <meta name="twitter:image" content="https://m-clark.github.io/data-processing-and-visualization/img/nineteeneightyR.png" />



<meta name="date" content="2020-06-29" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="img/R.ico" type="image/x-icon" />
<link rel="prev" href="pipes.html"/>
<link rel="next" href="data_table.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/font-awesome-5.3.1/css/fontawesome-all.min.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="libs/viz-1.8.2/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.5/grViz.js"></script>
<script src="libs/plotly-binding-4.9.2.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.52.2/plotly-latest.min.js"></script>
<link href="libs/vis-4.20.1/vis.css" rel="stylesheet" />
<script src="libs/vis-4.20.1/vis.min.js"></script>
<script src="libs/visNetwork-binding-2.0.9/visNetwork.js"></script>
<script src="libs/proj4js-2.3.15/proj4.js"></script>
<link href="libs/highcharts-7.0.1/css/motion.css" rel="stylesheet" />
<link href="libs/highcharts-7.0.1/css/htmlwdgtgrid.css" rel="stylesheet" />
<script src="libs/highcharts-7.0.1/highcharts.js"></script>
<script src="libs/highcharts-7.0.1/highcharts-3d.js"></script>
<script src="libs/highcharts-7.0.1/highcharts-more.js"></script>
<script src="libs/highcharts-7.0.1/modules/stock.js"></script>
<script src="libs/highcharts-7.0.1/modules/map.js"></script>
<script src="libs/highcharts-7.0.1/modules/annotations.js"></script>
<script src="libs/highcharts-7.0.1/modules/boost.js"></script>
<script src="libs/highcharts-7.0.1/modules/data.js"></script>
<script src="libs/highcharts-7.0.1/modules/drag-panes.js"></script>
<script src="libs/highcharts-7.0.1/modules/drilldown.js"></script>
<script src="libs/highcharts-7.0.1/modules/item-series.js"></script>
<script src="libs/highcharts-7.0.1/modules/offline-exporting.js"></script>
<script src="libs/highcharts-7.0.1/modules/overlapping-datalabels.js"></script>
<script src="libs/highcharts-7.0.1/modules/exporting.js"></script>
<script src="libs/highcharts-7.0.1/modules/export-data.js"></script>
<script src="libs/highcharts-7.0.1/modules/funnel.js"></script>
<script src="libs/highcharts-7.0.1/modules/heatmap.js"></script>
<script src="libs/highcharts-7.0.1/modules/treemap.js"></script>
<script src="libs/highcharts-7.0.1/modules/sankey.js"></script>
<script src="libs/highcharts-7.0.1/modules/solid-gauge.js"></script>
<script src="libs/highcharts-7.0.1/modules/streamgraph.js"></script>
<script src="libs/highcharts-7.0.1/modules/sunburst.js"></script>
<script src="libs/highcharts-7.0.1/modules/vector.js"></script>
<script src="libs/highcharts-7.0.1/modules/wordcloud.js"></script>
<script src="libs/highcharts-7.0.1/modules/xrange.js"></script>
<script src="libs/highcharts-7.0.1/modules/tilemap.js"></script>
<script src="libs/highcharts-7.0.1/modules/venn.js"></script>
<script src="libs/highcharts-7.0.1/modules/gantt.js"></script>
<script src="libs/highcharts-7.0.1/modules/timeline.js"></script>
<script src="libs/highcharts-7.0.1/modules/parallel-coordinates.js"></script>
<script src="libs/highcharts-7.0.1/plugins/grouped-categories.js"></script>
<script src="libs/highcharts-7.0.1/plugins/motion.js"></script>
<script src="libs/highcharts-7.0.1/plugins/multicolor_series.js"></script>
<script src="libs/highcharts-7.0.1/custom/reset.js"></script>
<script src="libs/highcharts-7.0.1/custom/symbols-extra.js"></script>
<script src="libs/highcharts-7.0.1/custom/text-symbols.js"></script>
<script src="libs/highchart-binding-0.7.0/highchart.js"></script>
<script src="libs/sigma-1.2.1/sigma.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.layout.forceAtlas2.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.layout.noverlap.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.renderers.parallelEdges.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.plugins.animate.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.renderers.customShapes.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.plugins.dragNodes.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.renderers.customEdgeShapes.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.plugins.relativeSize.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.renderers.edgeLabels.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.parsers.gexf.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.exporters.svg.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.plugins.neighborhoods.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.plugins.filter.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.renderers.snapshot.min.js"></script>
<script src="libs/sigmajs-binding-0.1.5/sigmajs.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.3/leaflet.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.14/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/book.css" type="text/css" />
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class='before'><a href="./">Data Processing & Visualization</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i>Intro</a><ul>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#outline"><i class="fa fa-check"></i>Outline</a><ul>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#part-1-information-processing"><i class="fa fa-check"></i>Part 1: Information Processing</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#part-2-programming-basics"><i class="fa fa-check"></i>Part 2: Programming Basics</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#part-3-modeling"><i class="fa fa-check"></i>Part 3: Modeling</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#part-4-visualization"><i class="fa fa-check"></i>Part 4: Visualization</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#part-5-presentation"><i class="fa fa-check"></i>Part 5: Presentation</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#preparation"><i class="fa fa-check"></i>Preparation</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#other"><i class="fa fa-check"></i>Other</a><ul>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#python"><i class="fa fa-check"></i>Python</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#r"><i class="fa fa-check"></i>R</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Part I: Information Processing</b></span></li>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html"><i class="fa fa-check"></i>Data Structures</a><ul>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#vectors"><i class="fa fa-check"></i>Vectors</a><ul>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#character-strings"><i class="fa fa-check"></i>Character strings</a></li>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#factors"><i class="fa fa-check"></i>Factors</a></li>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#logicals"><i class="fa fa-check"></i>Logicals</a></li>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#numeric-and-integer"><i class="fa fa-check"></i>Numeric and integer</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#matrices"><i class="fa fa-check"></i>Matrices</a><ul>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#creating-a-matrix"><i class="fa fa-check"></i>Creating a matrix</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#lists"><i class="fa fa-check"></i>Lists</a></li>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#data-frames"><i class="fa fa-check"></i>Data Frames</a><ul>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#creating-a-data-frame"><i class="fa fa-check"></i>Creating a data frame</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#data-structure-exercises"><i class="fa fa-check"></i>Data Structure Exercises</a><ul>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#excercise-1"><i class="fa fa-check"></i>Excercise #1</a></li>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#exercise-2"><i class="fa fa-check"></i>Exercise #2</a></li>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#thinking-exercises"><i class="fa fa-check"></i>Thinking Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="io.html"><a href="io.html"><i class="fa fa-check"></i>Input/Output</a><ul>
<li class="chapter" data-level="" data-path="io.html"><a href="io.html#other-approaches"><i class="fa fa-check"></i>Other approaches</a></li>
<li class="chapter" data-level="" data-path="io.html"><a href="io.html#faster-approaches"><i class="fa fa-check"></i>Faster approaches</a></li>
<li class="chapter" data-level="" data-path="io.html"><a href="io.html#other-data"><i class="fa fa-check"></i>Other Data</a></li>
<li class="chapter" data-level="" data-path="io.html"><a href="io.html#on-the-horizon"><i class="fa fa-check"></i>On the horizon</a></li>
<li class="chapter" data-level="" data-path="io.html"><a href="io.html#big-data"><i class="fa fa-check"></i>Big Data</a></li>
<li class="chapter" data-level="" data-path="io.html"><a href="io.html#io-exercises"><i class="fa fa-check"></i>I/O Exercises</a><ul>
<li class="chapter" data-level="" data-path="io.html"><a href="io.html#exercise-1"><i class="fa fa-check"></i>Exercise 1</a></li>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#thinking-exercises"><i class="fa fa-check"></i>Thinking Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="indexing.html"><a href="indexing.html"><i class="fa fa-check"></i>Indexing</a><ul>
<li class="chapter" data-level="" data-path="indexing.html"><a href="indexing.html#base-r-indexing-refresher"><i class="fa fa-check"></i>Base R Indexing Refresher</a></li>
<li class="chapter" data-level="" data-path="indexing.html"><a href="indexing.html#listdata.frame-extraction"><i class="fa fa-check"></i>List/Data.frame extraction</a></li>
<li class="chapter" data-level="" data-path="indexing.html"><a href="indexing.html#indexing-exercises"><i class="fa fa-check"></i>Indexing Exercises</a><ul>
<li class="chapter" data-level="" data-path="io.html"><a href="io.html#exercise-1"><i class="fa fa-check"></i>Exercise 1</a></li>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#exercise-2"><i class="fa fa-check"></i>Exercise 2</a></li>
<li class="chapter" data-level="" data-path="indexing.html"><a href="indexing.html#exercise-3"><i class="fa fa-check"></i>Exercise 3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="pipes.html"><a href="pipes.html"><i class="fa fa-check"></i>Pipes</a><ul>
<li class="chapter" data-level="" data-path="pipes.html"><a href="pipes.html#using-variables-as-they-are-created"><i class="fa fa-check"></i>Using variables as they are created</a></li>
<li class="chapter" data-level="" data-path="pipes.html"><a href="pipes.html#pipes-for-visualization-more-later"><i class="fa fa-check"></i>Pipes for Visualization (more later)</a></li>
<li class="chapter" data-level="" data-path="pipes.html"><a href="pipes.html#the-dot"><i class="fa fa-check"></i>The dot</a></li>
<li class="chapter" data-level="" data-path="pipes.html"><a href="pipes.html#flexibility"><i class="fa fa-check"></i>Flexibility</a></li>
<li class="chapter" data-level="" data-path="pipes.html"><a href="pipes.html#summary"><i class="fa fa-check"></i>Summary</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i>Tidyverse</a><ul>
<li class="chapter" data-level="" data-path="tidyverse.html"><a href="tidyverse.html#what-is-the-tidyverse"><i class="fa fa-check"></i>What is the tidyverse?</a></li>
<li class="chapter" data-level="" data-path="tidyverse.html"><a href="tidyverse.html#what-is-tidy"><i class="fa fa-check"></i>What is tidy?</a></li>
<li class="chapter" data-level="" data-path="tidyverse.html"><a href="tidyverse.html#dplyr"><i class="fa fa-check"></i>dplyr</a><ul>
<li class="chapter" data-level="" data-path="tidyverse.html"><a href="tidyverse.html#an-example"><i class="fa fa-check"></i>An example</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tidyverse.html"><a href="tidyverse.html#running-example"><i class="fa fa-check"></i>Running example</a></li>
<li class="chapter" data-level="" data-path="tidyverse.html"><a href="tidyverse.html#selecting-columns"><i class="fa fa-check"></i>Selecting Columns</a><ul>
<li class="chapter" data-level="" data-path="tidyverse.html"><a href="tidyverse.html#helper-functions"><i class="fa fa-check"></i>Helper functions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tidyverse.html"><a href="tidyverse.html#filtering-rows"><i class="fa fa-check"></i>Filtering Rows</a></li>
<li class="chapter" data-level="" data-path="tidyverse.html"><a href="tidyverse.html#generating-new-data"><i class="fa fa-check"></i>Generating New Data</a></li>
<li class="chapter" data-level="" data-path="tidyverse.html"><a href="tidyverse.html#grouping-and-summarizing-data"><i class="fa fa-check"></i>Grouping and Summarizing Data</a></li>
<li class="chapter" data-level="" data-path="tidyverse.html"><a href="tidyverse.html#renaming-columns"><i class="fa fa-check"></i>Renaming columns</a></li>
<li class="chapter" data-level="" data-path="tidyverse.html"><a href="tidyverse.html#merging-data"><i class="fa fa-check"></i>Merging Data</a></li>
<li class="chapter" data-level="" data-path="tidyverse.html"><a href="tidyverse.html#tidyr"><i class="fa fa-check"></i>tidyr</a></li>
<li class="chapter" data-level="" data-path="tidyverse.html"><a href="tidyverse.html#more-tidyverse"><i class="fa fa-check"></i>More Tidyverse</a></li>
<li class="chapter" data-level="" data-path="tidyverse.html"><a href="tidyverse.html#personal-opinion"><i class="fa fa-check"></i>Personal Opinion</a></li>
<li class="chapter" data-level="" data-path="tidyverse.html"><a href="tidyverse.html#tidyverse-exercises"><i class="fa fa-check"></i>tidyverse Exercises</a><ul>
<li class="chapter" data-level="" data-path="tidyverse.html"><a href="tidyverse.html#exercise-0"><i class="fa fa-check"></i>Exercise 0</a></li>
<li class="chapter" data-level="" data-path="io.html"><a href="io.html#exercise-1"><i class="fa fa-check"></i>Exercise 1</a></li>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#exercise-2"><i class="fa fa-check"></i>Exercise 2</a></li>
<li class="chapter" data-level="" data-path="indexing.html"><a href="indexing.html#exercise-3"><i class="fa fa-check"></i>Exercise 3</a></li>
<li class="chapter" data-level="" data-path="tidyverse.html"><a href="tidyverse.html#exercise-4"><i class="fa fa-check"></i>Exercise 4</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="data_table.html"><a href="data_table.html"><i class="fa fa-check"></i>data.table</a><ul>
<li class="chapter" data-level="" data-path="data_table.html"><a href="data_table.html#basics"><i class="fa fa-check"></i>Basics</a></li>
<li class="chapter" data-level="" data-path="data_table.html"><a href="data_table.html#grouped-operations"><i class="fa fa-check"></i>Grouped operations</a></li>
<li class="chapter" data-level="" data-path="data_table.html"><a href="data_table.html#faster"><i class="fa fa-check"></i>Faster!</a><ul>
<li class="chapter" data-level="" data-path="data_table.html"><a href="data_table.html#joins"><i class="fa fa-check"></i>Joins</a></li>
<li class="chapter" data-level="" data-path="data_table.html"><a href="data_table.html#group-by"><i class="fa fa-check"></i>Group by</a></li>
<li class="chapter" data-level="" data-path="data_table.html"><a href="data_table.html#string-matching"><i class="fa fa-check"></i>String matching</a></li>
<li class="chapter" data-level="" data-path="data_table.html"><a href="data_table.html#reading-files"><i class="fa fa-check"></i>Reading files</a></li>
<li class="chapter" data-level="" data-path="data_table.html"><a href="data_table.html#more-speed"><i class="fa fa-check"></i>More speed</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data_table.html"><a href="data_table.html#pipe-with-data.table"><i class="fa fa-check"></i>Pipe with data.table</a></li>
<li class="chapter" data-level="" data-path="pipes.html"><a href="pipes.html#summary"><i class="fa fa-check"></i>Summary</a></li>
<li class="chapter" data-level="" data-path="data_table.html"><a href="data_table.html#faster-dplyr-alternatives"><i class="fa fa-check"></i>Faster dplyr alternatives</a></li>
<li class="chapter" data-level="" data-path="data_table.html"><a href="data_table.html#data.table-exercises"><i class="fa fa-check"></i>data.table Exercises</a><ul>
<li class="chapter" data-level="" data-path="tidyverse.html"><a href="tidyverse.html#exercise-0"><i class="fa fa-check"></i>Exercise 0</a></li>
<li class="chapter" data-level="" data-path="io.html"><a href="io.html#exercise-1"><i class="fa fa-check"></i>Exercise 1</a></li>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#exercise-2"><i class="fa fa-check"></i>Exercise 2</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Part II: Programming</b></span></li>
<li class="chapter" data-level="" data-path="data_table.html"><a href="data_table.html#basics"><i class="fa fa-check"></i>Basics</a><ul>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html"><i class="fa fa-check"></i>R Objects</a><ul>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#object-inspection-exploration"><i class="fa fa-check"></i>Object Inspection &amp; Exploration</a></li>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#methods"><i class="fa fa-check"></i>Methods</a></li>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#s4-classes"><i class="fa fa-check"></i>S4 classes</a></li>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#others"><i class="fa fa-check"></i>Others</a></li>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#inspecting-functions"><i class="fa fa-check"></i>Inspecting Functions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#help-files"><i class="fa fa-check"></i>Help Files</a></li>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#objects-exercises"><i class="fa fa-check"></i>Objects Exercises</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="iterative.html"><a href="iterative.html"><i class="fa fa-check"></i>Iterative Programming</a><ul>
<li class="chapter" data-level="" data-path="iterative.html"><a href="iterative.html#for-loops"><i class="fa fa-check"></i>For loops</a><ul>
<li class="chapter" data-level="" data-path="iterative.html"><a href="iterative.html#a-slight-speed-gain"><i class="fa fa-check"></i>A slight speed gain</a></li>
<li class="chapter" data-level="" data-path="iterative.html"><a href="iterative.html#while-alternative"><i class="fa fa-check"></i>While alternative</a></li>
<li class="chapter" data-level="" data-path="iterative.html"><a href="iterative.html#loops-summary"><i class="fa fa-check"></i>Loops summary</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="iterative.html"><a href="iterative.html#implicit-loops"><i class="fa fa-check"></i>Implicit Loops</a><ul>
<li class="chapter" data-level="" data-path="iterative.html"><a href="iterative.html#apply-family"><i class="fa fa-check"></i>apply family</a></li>
<li class="chapter" data-level="" data-path="iterative.html"><a href="iterative.html#apply-functions"><i class="fa fa-check"></i>Apply functions</a></li>
<li class="chapter" data-level="" data-path="iterative.html"><a href="iterative.html#purrr"><i class="fa fa-check"></i>purrr</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="iterative.html"><a href="iterative.html#looping-with-lists"><i class="fa fa-check"></i>Looping with lists</a></li>
<li class="chapter" data-level="" data-path="iterative.html"><a href="iterative.html#iterative-programming-exercises"><i class="fa fa-check"></i>Iterative Programming Exercises</a><ul>
<li class="chapter" data-level="" data-path="io.html"><a href="io.html#exercise-1"><i class="fa fa-check"></i>Exercise 1</a></li>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#exercise-2"><i class="fa fa-check"></i>Exercise 2</a></li>
<li class="chapter" data-level="" data-path="indexing.html"><a href="indexing.html#exercise-3"><i class="fa fa-check"></i>Exercise 3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i>Writing Functions</a><ul>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#a-starting-point"><i class="fa fa-check"></i>A starting point</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#dry"><i class="fa fa-check"></i>DRY</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#conditionals"><i class="fa fa-check"></i>Conditionals</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#anonymous-functions"><i class="fa fa-check"></i>Anonymous functions</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#writing-functions-exercises"><i class="fa fa-check"></i>Writing Functions Exercises</a><ul>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#excercise-1"><i class="fa fa-check"></i>Excercise 1</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#excercise-1b"><i class="fa fa-check"></i>Excercise 1b</a></li>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#exercise-2"><i class="fa fa-check"></i>Exercise 2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="more.html"><a href="more.html"><i class="fa fa-check"></i>More</a><ul>
<li class="chapter" data-level="" data-path="more.html"><a href="more.html#code-style"><i class="fa fa-check"></i>Code Style</a><ul>
<li class="chapter" data-level="" data-path="more.html"><a href="more.html#why-does-your-code-exist"><i class="fa fa-check"></i>Why does your code exist?</a></li>
<li class="chapter" data-level="" data-path="more.html"><a href="more.html#assignment"><i class="fa fa-check"></i>Assignment</a></li>
<li class="chapter" data-level="" data-path="more.html"><a href="more.html#code-length"><i class="fa fa-check"></i>Code length</a></li>
<li class="chapter" data-level="" data-path="more.html"><a href="more.html#spacing"><i class="fa fa-check"></i>Spacing</a></li>
<li class="chapter" data-level="" data-path="more.html"><a href="more.html#naming-things"><i class="fa fa-check"></i>Naming things</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#other"><i class="fa fa-check"></i>Other</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="more.html"><a href="more.html#vectorization"><i class="fa fa-check"></i>Vectorization</a><ul>
<li class="chapter" data-level="" data-path="more.html"><a href="more.html#boolean-indexing"><i class="fa fa-check"></i>Boolean Indexing</a></li>
<li class="chapter" data-level="" data-path="more.html"><a href="more.html#vectorized-operations"><i class="fa fa-check"></i>Vectorized operations</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="more.html"><a href="more.html#regular-expressions"><i class="fa fa-check"></i>Regular Expressions</a><ul>
<li class="chapter" data-level="" data-path="more.html"><a href="more.html#typical-uses"><i class="fa fa-check"></i>Typical Uses</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="more.html"><a href="more.html#code-style-exercises"><i class="fa fa-check"></i>Code Style Exercises</a><ul>
<li class="chapter" data-level="" data-path="io.html"><a href="io.html#exercise-1"><i class="fa fa-check"></i>Exercise 1</a></li>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#exercise-2"><i class="fa fa-check"></i>Exercise 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="more.html"><a href="more.html#vectorization-exercises"><i class="fa fa-check"></i>Vectorization Exercises</a><ul>
<li class="chapter" data-level="" data-path="more.html"><a href="more.html#exercise-1-1"><i class="fa fa-check"></i>Exercise 1</a></li>
<li class="chapter" data-level="" data-path="more.html"><a href="more.html#exercise-2-1"><i class="fa fa-check"></i>Exercise 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="more.html"><a href="more.html#regex-exercises"><i class="fa fa-check"></i>Regex Exercises</a><ul>
<li class="chapter" data-level="" data-path="more.html"><a href="more.html#exercise-1-2"><i class="fa fa-check"></i>Exercise 1</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Part III: Modeling</b></span></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#model-exploration"><i class="fa fa-check"></i>Model Exploration</a><ul>
<li class="chapter" data-level="" data-path="models.html"><a href="models.html"><i class="fa fa-check"></i>Model Taxonomy</a></li>
<li class="chapter" data-level="" data-path="models.html"><a href="models.html#linear-models"><i class="fa fa-check"></i>Linear models</a></li>
<li class="chapter" data-level="" data-path="models.html"><a href="models.html#estimation"><i class="fa fa-check"></i>Estimation</a><ul>
<li class="chapter" data-level="" data-path="models.html"><a href="models.html#minimizing-and-maximizing"><i class="fa fa-check"></i>Minimizing and Maximizing</a></li>
<li class="chapter" data-level="" data-path="models.html"><a href="models.html#optimization"><i class="fa fa-check"></i>Optimization</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="models.html"><a href="models.html#fitting-models"><i class="fa fa-check"></i>Fitting Models</a><ul>
<li class="chapter" data-level="" data-path="models.html"><a href="models.html#using-matrices"><i class="fa fa-check"></i>Using matrices</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="models.html"><a href="models.html#summarizing-models"><i class="fa fa-check"></i>Summarizing Models</a></li>
<li class="chapter" data-level="" data-path="models.html"><a href="models.html#variable-transformations"><i class="fa fa-check"></i>Variable Transformations</a><ul>
<li class="chapter" data-level="" data-path="models.html"><a href="models.html#numeric-variables"><i class="fa fa-check"></i>Numeric variables</a></li>
<li class="chapter" data-level="" data-path="models.html"><a href="models.html#categorical-variables"><i class="fa fa-check"></i>Categorical variables</a></li>
<li class="chapter" data-level="" data-path="models.html"><a href="models.html#scales-indices-and-dimension-reduction"><i class="fa fa-check"></i>Scales, indices, and dimension reduction</a></li>
<li class="chapter" data-level="" data-path="models.html"><a href="models.html#dont-discretize"><i class="fa fa-check"></i>Don’t discretize</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="models.html"><a href="models.html#variable-importance"><i class="fa fa-check"></i>Variable Importance</a></li>
<li class="chapter" data-level="" data-path="models.html"><a href="models.html#extracting-output"><i class="fa fa-check"></i>Extracting Output</a><ul>
<li class="chapter" data-level="" data-path="models.html"><a href="models.html#package-support"><i class="fa fa-check"></i>Package support</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="models.html"><a href="models.html#visualization"><i class="fa fa-check"></i>Visualization</a></li>
<li class="chapter" data-level="" data-path="models.html"><a href="models.html#extensions-to-the-standard-linear-model"><i class="fa fa-check"></i>Extensions to the Standard Linear Model</a><ul>
<li class="chapter" data-level="" data-path="models.html"><a href="models.html#different-types-of-targets"><i class="fa fa-check"></i>Different types of targets</a></li>
<li class="chapter" data-level="" data-path="models.html"><a href="models.html#correlated-data"><i class="fa fa-check"></i>Correlated data</a></li>
<li class="chapter" data-level="" data-path="models.html"><a href="models.html#other-extensions"><i class="fa fa-check"></i>Other extensions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="models.html"><a href="models.html#model-exploration-summary"><i class="fa fa-check"></i>Model Exploration Summary</a></li>
<li class="chapter" data-level="" data-path="models.html"><a href="models.html#model-exploration-exercises"><i class="fa fa-check"></i>Model Exploration Exercises</a><ul>
<li class="chapter" data-level="" data-path="io.html"><a href="io.html#exercise-1"><i class="fa fa-check"></i>Exercise 1</a></li>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#exercise-2"><i class="fa fa-check"></i>Exercise 2</a></li>
<li class="chapter" data-level="" data-path="indexing.html"><a href="indexing.html#exercise-3"><i class="fa fa-check"></i>Exercise 3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#model-criticism"><i class="fa fa-check"></i>Model Criticism</a><ul>
<li class="chapter" data-level="" data-path="model_criticism.html"><a href="model_criticism.html"><i class="fa fa-check"></i>Model Fit</a><ul>
<li class="chapter" data-level="" data-path="model_criticism.html"><a href="model_criticism.html#standard-linear-model"><i class="fa fa-check"></i>Standard linear model</a></li>
<li class="chapter" data-level="" data-path="model_criticism.html"><a href="model_criticism.html#beyond-ols"><i class="fa fa-check"></i>Beyond OLS</a></li>
<li class="chapter" data-level="" data-path="model_criticism.html"><a href="model_criticism.html#classification"><i class="fa fa-check"></i>Classification</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="model_criticism.html"><a href="model_criticism.html#model-assumptions"><i class="fa fa-check"></i>Model Assumptions</a></li>
<li class="chapter" data-level="" data-path="model_criticism.html"><a href="model_criticism.html#predictive-performance"><i class="fa fa-check"></i>Predictive Performance</a></li>
<li class="chapter" data-level="" data-path="model_criticism.html"><a href="model_criticism.html#model-comparison"><i class="fa fa-check"></i>Model Comparison</a><ul>
<li class="chapter" data-level="" data-path="model_criticism.html"><a href="model_criticism.html#example-additional-covariates"><i class="fa fa-check"></i>Example: Additional covariates</a></li>
<li class="chapter" data-level="" data-path="model_criticism.html"><a href="model_criticism.html#example-interactions"><i class="fa fa-check"></i>Example: Interactions</a></li>
<li class="chapter" data-level="" data-path="model_criticism.html"><a href="model_criticism.html#example-additive-models"><i class="fa fa-check"></i>Example: Additive Models</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="model_criticism.html"><a href="model_criticism.html#model-averaging"><i class="fa fa-check"></i>Model Averaging</a></li>
<li class="chapter" data-level="" data-path="model_criticism.html"><a href="model_criticism.html#model-criticism-summary"><i class="fa fa-check"></i>Model Criticism Summary</a></li>
<li class="chapter" data-level="" data-path="model_criticism.html"><a href="model_criticism.html#model-criticism-exercises"><i class="fa fa-check"></i>Model Criticism Exercises</a><ul>
<li class="chapter" data-level="" data-path="tidyverse.html"><a href="tidyverse.html#exercise-0"><i class="fa fa-check"></i>Exercise 0</a></li>
<li class="chapter" data-level="" data-path="io.html"><a href="io.html#exercise-1"><i class="fa fa-check"></i>Exercise 1</a></li>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#exercise-2"><i class="fa fa-check"></i>Exercise 2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#machine-learning"><i class="fa fa-check"></i>Machine Learning</a><ul>
<li class="chapter" data-level="" data-path="ml.html"><a href="ml.html"><i class="fa fa-check"></i>Concepts</a><ul>
<li class="chapter" data-level="" data-path="ml.html"><a href="ml.html#loss"><i class="fa fa-check"></i>Loss</a></li>
<li class="chapter" data-level="" data-path="ml.html"><a href="ml.html#bias-variance-tradeoff"><i class="fa fa-check"></i>Bias-variance Tradeoff</a></li>
<li class="chapter" data-level="" data-path="ml.html"><a href="ml.html#regularization"><i class="fa fa-check"></i>Regularization</a></li>
<li class="chapter" data-level="" data-path="ml.html"><a href="ml.html#cross-validation"><i class="fa fa-check"></i>Cross-validation</a></li>
<li class="chapter" data-level="" data-path="models.html"><a href="models.html#optimization"><i class="fa fa-check"></i>Optimization</a></li>
<li class="chapter" data-level="" data-path="ml.html"><a href="ml.html#tuning-parameters"><i class="fa fa-check"></i>Tuning parameters</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ml.html"><a href="ml.html#techniques"><i class="fa fa-check"></i>Techniques</a><ul>
<li class="chapter" data-level="" data-path="ml.html"><a href="ml.html#regularized-regression"><i class="fa fa-check"></i>Regularized regression</a></li>
<li class="chapter" data-level="" data-path="ml.html"><a href="ml.html#random-forests"><i class="fa fa-check"></i>Random Forests</a></li>
<li class="chapter" data-level="" data-path="ml.html"><a href="ml.html#neural-networks"><i class="fa fa-check"></i>Neural Networks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ml.html"><a href="ml.html#interpreting-the-black-box"><i class="fa fa-check"></i>Interpreting the Black Box</a></li>
<li class="chapter" data-level="" data-path="ml.html"><a href="ml.html#machine-learning-summary"><i class="fa fa-check"></i>Machine Learning Summary</a></li>
<li class="chapter" data-level="" data-path="ml.html"><a href="ml.html#machine-learning-exercises"><i class="fa fa-check"></i>Machine Learning Exercises</a><ul>
<li class="chapter" data-level="" data-path="io.html"><a href="io.html#exercise-1"><i class="fa fa-check"></i>Exercise 1</a></li>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#exercise-2"><i class="fa fa-check"></i>Exercise 2</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Part IV: Visualization</b></span></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#ggplot2"><i class="fa fa-check"></i>ggplot2</a><ul>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i>Layers</a></li>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#piping"><i class="fa fa-check"></i>Piping</a></li>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#aesthetics"><i class="fa fa-check"></i>Aesthetics</a></li>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#geoms"><i class="fa fa-check"></i>Geoms</a></li>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#examples"><i class="fa fa-check"></i>Examples</a></li>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#stats"><i class="fa fa-check"></i>Stats</a></li>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#scales"><i class="fa fa-check"></i>Scales</a></li>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#facets"><i class="fa fa-check"></i>Facets</a></li>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#multiple-plots"><i class="fa fa-check"></i>Multiple plots</a></li>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#fine-control"><i class="fa fa-check"></i>Fine control</a></li>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#themes"><i class="fa fa-check"></i>Themes</a></li>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#extensions"><i class="fa fa-check"></i>Extensions</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#python"><i class="fa fa-check"></i>Python</a></li>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#summary-ggplot2"><i class="fa fa-check"></i>Summary ggplot2</a></li>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-exercises"><i class="fa fa-check"></i>ggplot2 Exercises</a><ul>
<li class="chapter" data-level="" data-path="tidyverse.html"><a href="tidyverse.html#exercise-0"><i class="fa fa-check"></i>Exercise 0</a></li>
<li class="chapter" data-level="" data-path="io.html"><a href="io.html#exercise-1"><i class="fa fa-check"></i>Exercise 1</a></li>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#exercise-2"><i class="fa fa-check"></i>Exercise 2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="interactive.html"><a href="interactive.html"><i class="fa fa-check"></i>Interactive Visualization</a><ul>
<li class="chapter" data-level="" data-path="interactive.html"><a href="interactive.html#packages"><i class="fa fa-check"></i>Packages</a></li>
<li class="chapter" data-level="" data-path="interactive.html"><a href="interactive.html#piping-for-visualization"><i class="fa fa-check"></i>Piping for Visualization</a></li>
<li class="chapter" data-level="" data-path="interactive.html"><a href="interactive.html#htmlwidgets"><i class="fa fa-check"></i>htmlwidgets</a></li>
<li class="chapter" data-level="" data-path="interactive.html"><a href="interactive.html#plotly"><i class="fa fa-check"></i>Plotly</a><ul>
<li class="chapter" data-level="" data-path="interactive.html"><a href="interactive.html#modes"><i class="fa fa-check"></i>Modes</a></li>
<li class="chapter" data-level="" data-path="interactive.html"><a href="interactive.html#ggplotly"><i class="fa fa-check"></i>ggplotly</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="interactive.html"><a href="interactive.html#highcharter"><i class="fa fa-check"></i>Highcharter</a></li>
<li class="chapter" data-level="" data-path="interactive.html"><a href="interactive.html#graph-networks"><i class="fa fa-check"></i>Graph networks</a><ul>
<li class="chapter" data-level="" data-path="interactive.html"><a href="interactive.html#visnetwork"><i class="fa fa-check"></i>visNetwork</a></li>
<li class="chapter" data-level="" data-path="interactive.html"><a href="interactive.html#sigmajs"><i class="fa fa-check"></i>sigmajs</a></li>
<li class="chapter" data-level="" data-path="interactive.html"><a href="interactive.html#plotly-1"><i class="fa fa-check"></i>Plotly</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="interactive.html"><a href="interactive.html#leaflet"><i class="fa fa-check"></i>leaflet</a></li>
<li class="chapter" data-level="" data-path="interactive.html"><a href="interactive.html#dt"><i class="fa fa-check"></i>DT</a></li>
<li class="chapter" data-level="" data-path="interactive.html"><a href="interactive.html#shiny"><i class="fa fa-check"></i>Shiny</a><ul>
<li class="chapter" data-level="" data-path="interactive.html"><a href="interactive.html#dash"><i class="fa fa-check"></i>Dash</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="interactive.html"><a href="interactive.html#interactive-and-visual-data-exploration"><i class="fa fa-check"></i>Interactive and Visual Data Exploration</a></li>
<li class="chapter" data-level="" data-path="interactive.html"><a href="interactive.html#interactive-visualization-exercises"><i class="fa fa-check"></i>Interactive Visualization Exercises</a><ul>
<li class="chapter" data-level="" data-path="tidyverse.html"><a href="tidyverse.html#exercise-0"><i class="fa fa-check"></i>Exercise 0</a></li>
<li class="chapter" data-level="" data-path="io.html"><a href="io.html#exercise-1"><i class="fa fa-check"></i>Exercise 1</a></li>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#exercise-2"><i class="fa fa-check"></i>Exercise 2</a></li>
<li class="chapter" data-level="" data-path="indexing.html"><a href="indexing.html#exercise-3"><i class="fa fa-check"></i>Exercise 3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#thinking-visually"><i class="fa fa-check"></i>Thinking Visually</a><ul>
<li class="chapter" data-level="" data-path="thinking_vis.html"><a href="thinking_vis.html"><i class="fa fa-check"></i>Information</a><ul>
<li class="chapter" data-level="" data-path="thinking_vis.html"><a href="thinking_vis.html#your-audience-isnt-dumb"><i class="fa fa-check"></i>Your audience isn’t dumb</a></li>
<li class="chapter" data-level="" data-path="thinking_vis.html"><a href="thinking_vis.html#clarity-is-key"><i class="fa fa-check"></i>Clarity is key</a></li>
<li class="chapter" data-level="" data-path="thinking_vis.html"><a href="thinking_vis.html#avoid-clutter"><i class="fa fa-check"></i>Avoid clutter</a></li>
<li class="chapter" data-level="" data-path="thinking_vis.html"><a href="thinking_vis.html#color-isnt-optional"><i class="fa fa-check"></i>Color isn’t optional</a></li>
<li class="chapter" data-level="" data-path="thinking_vis.html"><a href="thinking_vis.html#think-interactively"><i class="fa fa-check"></i>Think interactively</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="thinking_vis.html"><a href="thinking_vis.html#color"><i class="fa fa-check"></i>Color</a><ul>
<li class="chapter" data-level="" data-path="thinking_vis.html"><a href="thinking_vis.html#viridis"><i class="fa fa-check"></i>Viridis</a></li>
<li class="chapter" data-level="" data-path="thinking_vis.html"><a href="thinking_vis.html#scientific-colors"><i class="fa fa-check"></i>Scientific colors</a></li>
<li class="chapter" data-level="" data-path="thinking_vis.html"><a href="thinking_vis.html#rcolorbrewer"><i class="fa fa-check"></i>RColorBrewer</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="thinking_vis.html"><a href="thinking_vis.html#contrast"><i class="fa fa-check"></i>Contrast</a></li>
<li class="chapter" data-level="" data-path="thinking_vis.html"><a href="thinking_vis.html#scaling-size"><i class="fa fa-check"></i>Scaling Size</a></li>
<li class="chapter" data-level="" data-path="thinking_vis.html"><a href="thinking_vis.html#transparency"><i class="fa fa-check"></i>Transparency</a></li>
<li class="chapter" data-level="" data-path="thinking_vis.html"><a href="thinking_vis.html#accessibility"><i class="fa fa-check"></i>Accessibility</a></li>
<li class="chapter" data-level="" data-path="thinking_vis.html"><a href="thinking_vis.html#file-types"><i class="fa fa-check"></i>File Types</a></li>
<li class="chapter" data-level="" data-path="pipes.html"><a href="pipes.html#summary"><i class="fa fa-check"></i>Summary</a></li>
<li class="chapter" data-level="" data-path="thinking_vis.html"><a href="thinking_vis.html#a-casual-list-of-things-to-avoid"><i class="fa fa-check"></i>A casual list of things to avoid</a><ul>
<li class="chapter" data-level="" data-path="thinking_vis.html"><a href="thinking_vis.html#pie"><i class="fa fa-check"></i>Pie</a></li>
<li class="chapter" data-level="" data-path="thinking_vis.html"><a href="thinking_vis.html#histograms"><i class="fa fa-check"></i>Histograms</a></li>
<li class="chapter" data-level="" data-path="thinking_vis.html"><a href="thinking_vis.html#using-3d-without-adding-any-communicative-value"><i class="fa fa-check"></i>Using 3D without adding any communicative value</a></li>
<li class="chapter" data-level="" data-path="thinking_vis.html"><a href="thinking_vis.html#using-too-many-colors"><i class="fa fa-check"></i>Using too many colors</a></li>
<li class="chapter" data-level="" data-path="thinking_vis.html"><a href="thinking_vis.html#using-valenced-colors-when-data-isnt-applicable"><i class="fa fa-check"></i>Using valenced colors when data isn’t applicable</a></li>
<li class="chapter" data-level="" data-path="thinking_vis.html"><a href="thinking_vis.html#showing-maps-that-just-display-population"><i class="fa fa-check"></i>Showing maps that just display population</a></li>
<li class="chapter" data-level="" data-path="thinking_vis.html"><a href="thinking_vis.html#biplots"><i class="fa fa-check"></i>Biplots</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="thinking_vis.html"><a href="thinking_vis.html#thinking-visually-exercises"><i class="fa fa-check"></i>Thinking Visually Exercises</a><ul>
<li class="chapter" data-level="" data-path="io.html"><a href="io.html#exercise-1"><i class="fa fa-check"></i>Exercise 1</a></li>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#exercise-2"><i class="fa fa-check"></i>Exercise 2</a></li>
<li class="chapter" data-level="" data-path="data_structures.html"><a href="data_structures.html#thinking-exercises"><i class="fa fa-check"></i>Thinking exercises</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Part V: Presentation</b></span></li>
<li class="chapter" data-level="" data-path="concepts.html"><a href="concepts.html"><i class="fa fa-check"></i>Reproducible Programming</a><ul>
<li class="chapter" data-level="" data-path="concepts.html"><a href="concepts.html#how-to-read-this-chapter"><i class="fa fa-check"></i>How to read this chapter</a></li>
<li class="chapter" data-level="" data-path="concepts.html"><a href="concepts.html#literate-programming"><i class="fa fa-check"></i>Literate Programming</a></li>
<li class="chapter" data-level="" data-path="concepts.html"><a href="concepts.html#r-markdown"><i class="fa fa-check"></i>R Markdown</a></li>
<li class="chapter" data-level="" data-path="concepts.html"><a href="concepts.html#replicability-reproducible-research"><i class="fa fa-check"></i>Replicability &amp; reproducible research</a></li>
<li class="chapter" data-level="" data-path="concepts.html"><a href="concepts.html#dynamic-data-analysis-report-generation"><i class="fa fa-check"></i>Dynamic data analysis &amp; report generation</a></li>
<li class="chapter" data-level="" data-path="concepts.html"><a href="concepts.html#using-modern-tools"><i class="fa fa-check"></i>Using Modern Tools</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="getting_started.html"><a href="getting_started.html"><i class="fa fa-check"></i>Getting Started</a><ul>
<li class="chapter" data-level="" data-path="getting_started.html"><a href="getting_started.html#what-is-markdown"><i class="fa fa-check"></i>What is Markdown?</a></li>
<li class="chapter" data-level="" data-path="getting_started.html"><a href="getting_started.html#documents"><i class="fa fa-check"></i>Documents</a><ul>
<li class="chapter" data-level="" data-path="getting_started.html"><a href="getting_started.html#standard-html"><i class="fa fa-check"></i>Standard HTML</a></li>
<li class="chapter" data-level="" data-path="getting_started.html"><a href="getting_started.html#r-notebooks"><i class="fa fa-check"></i>R Notebooks</a></li>
<li class="chapter" data-level="" data-path="getting_started.html"><a href="getting_started.html#distill"><i class="fa fa-check"></i>Distill</a></li>
<li class="chapter" data-level="" data-path="getting_started.html"><a href="getting_started.html#bookdown"><i class="fa fa-check"></i>Bookdown</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="getting_started.html"><a href="getting_started.html#presentations"><i class="fa fa-check"></i>Presentations</a></li>
<li class="chapter" data-level="" data-path="getting_started.html"><a href="getting_started.html#shiny-apps"><i class="fa fa-check"></i>Shiny Apps</a></li>
<li class="chapter" data-level="" data-path="getting_started.html"><a href="getting_started.html#templates"><i class="fa fa-check"></i>Templates</a></li>
<li class="chapter" data-level="" data-path="getting_started.html"><a href="getting_started.html#how-to-start"><i class="fa fa-check"></i>How to start</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="standard_documents.html"><a href="standard_documents.html"><i class="fa fa-check"></i>Standard Documents</a><ul>
<li class="chapter" data-level="" data-path="standard_documents.html"><a href="standard_documents.html#r-markdown-files"><i class="fa fa-check"></i>R Markdown files</a></li>
<li class="chapter" data-level="" data-path="standard_documents.html"><a href="standard_documents.html#text"><i class="fa fa-check"></i>Text</a></li>
<li class="chapter" data-level="" data-path="standard_documents.html"><a href="standard_documents.html#code"><i class="fa fa-check"></i>Code</a><ul>
<li class="chapter" data-level="" data-path="standard_documents.html"><a href="standard_documents.html#chunks"><i class="fa fa-check"></i>Chunks</a></li>
<li class="chapter" data-level="" data-path="standard_documents.html"><a href="standard_documents.html#in-line"><i class="fa fa-check"></i>In-line</a></li>
<li class="chapter" data-level="" data-path="standard_documents.html"><a href="standard_documents.html#labels"><i class="fa fa-check"></i>Labels</a></li>
<li class="chapter" data-level="" data-path="standard_documents.html"><a href="standard_documents.html#running-code"><i class="fa fa-check"></i>Running code</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="standard_documents.html"><a href="standard_documents.html#multiple-documents"><i class="fa fa-check"></i>Multiple documents</a></li>
<li class="chapter" data-level="" data-path="standard_documents.html"><a href="standard_documents.html#sharing-code-collaboration"><i class="fa fa-check"></i>Sharing Code &amp; Collaboration</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="customization.html"><a href="customization.html"><i class="fa fa-check"></i>Customization &amp; Configuration</a><ul>
<li class="chapter" data-level="" data-path="customization.html"><a href="customization.html#output-options"><i class="fa fa-check"></i>Output options</a><ul>
<li class="chapter" data-level="" data-path="customization.html"><a href="customization.html#themes-etc."><i class="fa fa-check"></i>Themes etc.</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="customization.html"><a href="customization.html#yaml"><i class="fa fa-check"></i>YAML</a></li>
<li class="chapter" data-level="" data-path="customization.html"><a href="customization.html#html-css"><i class="fa fa-check"></i>HTML &amp; CSS</a><ul>
<li class="chapter" data-level="" data-path="standard_documents.html"><a href="standard_documents.html#html"><i class="fa fa-check"></i>HTML</a></li>
<li class="chapter" data-level="" data-path="customization.html"><a href="customization.html#css"><i class="fa fa-check"></i>CSS</a></li>
<li class="chapter" data-level="" data-path="customization.html"><a href="customization.html#custom-classes"><i class="fa fa-check"></i>Custom classes</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="customization.html"><a href="customization.html#personal-templates"><i class="fa fa-check"></i>Personal Templates</a></li>
<li class="chapter" data-level="" data-path="customization.html"><a href="customization.html#the-rabbit-hole-goes-deep"><i class="fa fa-check"></i>The Rabbit Hole Goes Deep</a></li>
</ul></li>
<li class="part"><span><b>Wrap-up</b></span></li>
<li class="chapter" data-level="" data-path="pipes.html"><a href="pipes.html#summary"><i class="fa fa-check"></i>Summary</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li class='after'">
   <a href="https://m-clark.github.io/" aria-label='Author Website Link'>
      <img src="img/mc_logo.png" style="width:25%; padding:0px 0; display:block; margin: 0 auto;" alt="MC logo">
   </a>
</li>
<li class='after'">
   <div style='text-align:center'>
      <a href="https://github.com/m-clark/" aria-label='GitHub Link'>
         <i class="fab fa-github fa-2x" aria-hidden="true"></i>
      </a>
   </div>
</li>
<li class='after'">
   <div style='text-align:center'>
      <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/" aria-label="Creative commons CCBYSA link">
         <i class="fab fa-creative-commons fa-lg"></i> 
         <i class="fab fa-creative-commons-by fa-lg"></i> 
         <i class="fab fa-creative-commons-sa fa-lg"></i>
      </a>
   </div>
</li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Processing &amp; Visualization</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tidyverse" class="section level1">
<h1>Tidyverse</h1>
<p><img src="img/hex_tidyverse.svg" width="10%" style="display: block; margin: auto;" /></p>
<div id="what-is-the-tidyverse" class="section level2">
<h2>What is the tidyverse?</h2>
<p>The tidyverse consists of a few key packages:</p>
<ul>
<li><span class="pack">ggplot2</span>: data visualization</li>
<li><span class="pack">tibble</span>: tibbles, a modern re-imagining of data frames</li>
<li><span class="pack">tidyr</span>: data tidying</li>
<li><span class="pack">readr</span>: data import</li>
<li><span class="pack">purrr</span>: functional programming, e.g. alternate approaches to apply</li>
<li><span class="pack">dplyr</span>: data manipulation</li>
</ul>
<p>And of course the <span class="pack">tidyverse</span> package itself, which will load all of the above in a way that will avoid naming conflicts.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="tidyverse.html#cb65-1"></a><span class="kw">library</span>(tidyverse)</span></code></pre></div>
<pre><code>Loading tidyverse: ggplot2
Loading tidyverse: tibble
Loading tidyverse: tidyr
Loading tidyverse: readr
Loading tidyverse: purrr
Loading tidyverse: dplyr
Conflicts with tidy packages -------------------------
filter(): dplyr, stats
lag():    dplyr, stats</code></pre>
<p>In addition, there are other packages like <span class="pack">lubridate</span>, <span class="pack">rvest</span>, <span class="pack">stringr</span> and others in the <strong>hadleyverse</strong> that are also greatly useful.</p>
</div>
<div id="what-is-tidy" class="section level2">
<h2>What is tidy?</h2>
<p><span class="emph">Tidy data</span> refers to data arranged in a way that makes data processing, analysis, and visualization simpler.</p>
<p>In a tidy data set:</p>
<ul>
<li>Each variable must have its own column.</li>
<li>Each observation must have its own row.</li>
<li>Each value must have its own cell.</li>
</ul>
<p>Think <em>long</em> before <em>wide</em>.</p>
</div>
<div id="dplyr" class="section level2">
<h2>dplyr</h2>
<p><span class="pack">dplyr</span> provides a grammar of data manipulation (like <span class="pack">ggplot2</span> does for visualization). It is the next iteration of <span class="pack">plyr</span>, but <span class="pack">plyr</span> is deprecated and no longer used. It’s focused on tools for working with data frames, with over 100 functions that might be of specific use to you.</p>
<p>It has three main goals:</p>
<ul>
<li>Make the most important data manipulation tasks easier.</li>
<li>Do them faster.</li>
<li>Use the same interface to work with data frames, data tables or a database.</li>
</ul>
<p>Some key operations include:</p>
<ul>
<li><span class="func">select</span>: grab columns
<ul>
<li>select helpers: <span class="func">one_of</span>, <span class="func">starts_with</span>, <span class="func">num_range</span> etc.</li>
</ul></li>
<li><span class="func">filter</span>/<span class="func">slice</span>: grab rows</li>
<li><span class="func">group_by</span>: grouped operations</li>
<li><span class="func">mutate</span>/<span class="func">transmute</span>: create new variables</li>
<li><span class="func">summarize</span>: summarize/aggregate</li>
</ul>
<p>There are various (SQL-like) join/merge functions:</p>
<ul>
<li><span class="func">inner_join</span>, <span class="func">left_join</span> etc.</li>
</ul>
<p>And there are a lot of little things like:</p>
<ul>
<li><span class="func">n</span>, <span class="func">n_distinct</span>, <span class="func">nth</span>, <span class="func">n_groups</span>, <span class="func">count</span>, <span class="func">recode</span>, <span class="func">between</span></li>
</ul>
<p>In addition, there is no need to quote variable names.</p>
<div id="an-example" class="section level3">
<h3>An example</h3>
<p>Let’s say we want to select from our data the following variables:</p>
<ul>
<li>Start with the <strong>ID</strong> variable</li>
<li>The variables <strong>X1</strong> through <strong>X10</strong>, which are not all grouped together, and there are many more <em>X*</em> columns</li>
<li>The variables <strong>var1</strong> and <strong>var2</strong>, which are the only variables with <em>var</em> in their name</li>
<li>Any variable with a name that starts with <strong>XYZ</strong></li>
</ul>
<p>How might we go about this in a dataset of possibly hundreds or even thousands of columns? There are several base R approaches that we could go with, but often they will be tedious, or require multiple objects to be created just to get the columns you want. Let’s start with the worst choice.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="tidyverse.html#cb67-1"></a>newData =<span class="st"> </span>oldData[,<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>, etc.)]</span></code></pre></div>
<p>Using numeric indexes, or rather <span class="emph">magic numbers</span>, is not conducive to readability or reproducibility. If anything changes about the data columns, the numbers may no longer be applicable, and you’d have to redo the line again.</p>
<p>We could name the variables explicitly.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="tidyverse.html#cb68-1"></a>newData =<span class="st"> </span>oldData[,<span class="kw">c</span>(<span class="st">&#39;ID&#39;</span>,<span class="st">&#39;X1&#39;</span>, <span class="st">&#39;X2&#39;</span>, etc.)]</span></code></pre></div>
<p>This would be fine if there are only a handful. But if you’re trying to reduce a 1000 column data set to several dozen it’s tedious, and generally not pretty regardless.</p>
<p>A more advanced alternative regards a two-step approach with [regular expressions][Regular Expressions]. This requires that you know something about regex (and you should), but it is difficult to read/understand by those who don’t, and often by even yourself if it’s more complicated. In any case, you first will need to create an object that represents the column names first, otherwise it looks unwieldy if used within brackets or a function like <span class="func">subset</span>.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="tidyverse.html#cb69-1"></a>cols =<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;ID&#39;</span>, <span class="kw">paste0</span>(<span class="st">&#39;X&#39;</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>), <span class="st">&#39;var1&#39;</span>, <span class="st">&#39;var2&#39;</span>, <span class="kw">grep</span>(<span class="kw">colnames</span>(oldData), <span class="st">&#39;^XYZ&#39;</span>, <span class="dt">value=</span>T))</span>
<span id="cb69-2"><a href="tidyverse.html#cb69-2"></a></span>
<span id="cb69-3"><a href="tidyverse.html#cb69-3"></a>newData =<span class="st"> </span>oldData[,cols]</span>
<span id="cb69-4"><a href="tidyverse.html#cb69-4"></a></span>
<span id="cb69-5"><a href="tidyverse.html#cb69-5"></a><span class="co"># or via subset</span></span>
<span id="cb69-6"><a href="tidyverse.html#cb69-6"></a>newData =<span class="st"> </span><span class="kw">subset</span>(oldData, <span class="dt">select =</span> cols)</span></code></pre></div>
<p>Now consider there is even more to do. What if you also want observations where <strong>Z</strong> is <strong>Yes</strong>, Q is <strong>No</strong>, and only the observations with the top 50 values of <strong>var2</strong>, ordered by <strong>var1</strong> (descending)? Probably the more straightforward way in R to do so would be something like the following, where each part is broken out and we continuously write over the object as we modify it.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="tidyverse.html#cb70-1"></a><span class="co"># three operations and overwriting or creating new objects if we want clarity</span></span>
<span id="cb70-2"><a href="tidyverse.html#cb70-2"></a>newData =<span class="st"> </span>newData[oldData<span class="op">$</span>Z <span class="op">==</span><span class="st"> &#39;Yes&#39;</span> <span class="op">&amp;</span><span class="st"> </span>oldData<span class="op">$</span>Q <span class="op">==</span><span class="st"> &#39;No&#39;</span>,]</span>
<span id="cb70-3"><a href="tidyverse.html#cb70-3"></a>newData =<span class="st"> </span>newData[<span class="kw">order</span>(newData<span class="op">$</span>var2, <span class="dt">decreasing=</span>T)[<span class="dv">1</span><span class="op">:</span><span class="dv">50</span>],]</span>
<span id="cb70-4"><a href="tidyverse.html#cb70-4"></a>newData =<span class="st"> </span>newData[<span class="kw">order</span>(newData<span class="op">$</span>var1, <span class="dt">decreasing=</span>T),]</span></code></pre></div>
<p>And this is for fairly straightforward operations.</p>
<p>Now consider doing all of the previous in one piped operation. The <span class="pack">dplyr</span> package will allow us to do something like the following.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="tidyverse.html#cb71-1"></a>newData =<span class="st"> </span>oldData <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb71-2"><a href="tidyverse.html#cb71-2"></a><span class="st">  </span><span class="kw">select</span>(<span class="kw">num_range</span>(<span class="st">&#39;X&#39;</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>), </span>
<span id="cb71-3"><a href="tidyverse.html#cb71-3"></a>         <span class="kw">contains</span>(<span class="st">&#39;var&#39;</span>), </span>
<span id="cb71-4"><a href="tidyverse.html#cb71-4"></a>         <span class="kw">starts_with</span>(<span class="st">&#39;XYZ&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb71-5"><a href="tidyverse.html#cb71-5"></a><span class="st">  </span><span class="kw">filter</span>(Z <span class="op">==</span><span class="st"> &#39;Yes&#39;</span>, </span>
<span id="cb71-6"><a href="tidyverse.html#cb71-6"></a>         Q <span class="op">==</span><span class="st"> &#39;No&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb71-7"><a href="tidyverse.html#cb71-7"></a><span class="st">  </span><span class="kw">top_n</span>(<span class="dt">n=</span><span class="dv">50</span>, var2) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb71-8"><a href="tidyverse.html#cb71-8"></a><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(var1))</span></code></pre></div>
<p>Even if it hadn’t been explained before, you might have been able to guess a little as to what was going on. The code is fairly succinct, we don’t have to keep referencing objects repeatedly, and no explicit intermediary objects are created.</p>
<p><span class="pack">dplyr</span> and piping is an <em>alternative</em>. You can do all this sort of stuff with base R, for example, with functions like <span class="func">with</span>, <span class="func">within</span>, <span class="func">subset</span>, <span class="func">transform</span>, etc. Though the initial base R approach depicted is fairly concise, in general, it can potentially be:</p>
<ul>
<li>more verbose</li>
<li>less legible</li>
<li>less amenable to additional data changes</li>
<li>requires esoteric knowledge (e.g. regular expressions)</li>
<li>often requires creation of new objects (even if we just want to explore)</li>
<li>often slower, possibly greatly</li>
</ul>
</div>
</div>
<div id="running-example" class="section level2">
<h2>Running example</h2>
<p>The following data was scraped initially scraped from the web as follows. It is data from the NBA basketball league for the 2017-2018 season with things like player names, position, team name, points per game, field goal percentage, and various other statistics. We’ll use it as an example to demonstrate various functionality found within <span class="pack">dplyr</span>.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="tidyverse.html#cb72-1"></a><span class="kw">library</span>(rvest)</span>
<span id="cb72-2"><a href="tidyverse.html#cb72-2"></a></span>
<span id="cb72-3"><a href="tidyverse.html#cb72-3"></a>current_year =<span class="st"> </span>lubridate<span class="op">::</span><span class="kw">year</span>(<span class="kw">Sys.Date</span>())</span>
<span id="cb72-4"><a href="tidyverse.html#cb72-4"></a></span>
<span id="cb72-5"><a href="tidyverse.html#cb72-5"></a>url =<span class="st"> </span>glue<span class="op">::</span><span class="kw">glue</span>(<span class="st">&quot;http://www.basketball-reference.com/leagues/NBA_{current_year-1}_totals.html&quot;</span>)</span>
<span id="cb72-6"><a href="tidyverse.html#cb72-6"></a></span>
<span id="cb72-7"><a href="tidyverse.html#cb72-7"></a>bball =<span class="st"> </span><span class="kw">read_html</span>(url) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb72-8"><a href="tidyverse.html#cb72-8"></a><span class="st">  </span><span class="kw">html_nodes</span>(<span class="st">&quot;#totals_stats&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb72-9"><a href="tidyverse.html#cb72-9"></a><span class="st">  </span><span class="kw">html_table</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb72-10"><a href="tidyverse.html#cb72-10"></a><span class="st">  </span><span class="kw">data.frame</span>() </span>
<span id="cb72-11"><a href="tidyverse.html#cb72-11"></a></span>
<span id="cb72-12"><a href="tidyverse.html#cb72-12"></a><span class="kw">save</span>(bball, <span class="dt">file=</span><span class="st">&#39;data/bball.RData&#39;</span>)</span></code></pre></div>
<p>However you can just load it into your workspace as below. Note that when initially gathered from the website, the data is all character strings. We’ll fix this later. The following shows the data as it will eventually be.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="tidyverse.html#cb73-1"></a><span class="kw">load</span>(<span class="st">&#39;data/bball.RData&#39;</span>)</span>
<span id="cb73-2"><a href="tidyverse.html#cb73-2"></a><span class="kw">glimpse</span>(bball[,<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>])</span></code></pre></div>
<pre><code>Rows: 734
Columns: 5
$ Rk     &lt;chr&gt; &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;11&quot;, &quot;12&quot;, &quot;13&quot;, &quot;14&quot;, &quot;15&quot;, &quot;16&quot;, &quot;16&quot;, &quot;16&quot;, &quot;17&quot;, &quot;18&quot;, &quot;19&quot;, &quot;20&quot;, &quot;Rk&quot;, &quot;21&quot;, &quot;22&quot;, &quot;23&quot;, &quot;23&quot;, &quot;23&quot;, &quot;24&quot;, &quot;25&quot;, &quot;26&quot;, &quot;27&quot;, &quot;28&quot;, &quot;28&quot;, &quot;28&quot;, &quot;…
$ Player &lt;chr&gt; &quot;Álex Abrines&quot;, &quot;Quincy Acy&quot;, &quot;Jaylen Adams&quot;, &quot;Steven Adams&quot;, &quot;Bam Adebayo&quot;, &quot;Deng Adel&quot;, &quot;DeVaughn Akoon-Purcell&quot;, &quot;LaMarcus Aldridge&quot;, &quot;Rawle Alkins&quot;, &quot;Grayson Allen&quot;, &quot;Jarrett Allen&quot;, &quot;Kadeem Allen&quot;,…
$ Pos    &lt;chr&gt; &quot;SG&quot;, &quot;PF&quot;, &quot;PG&quot;, &quot;C&quot;, &quot;C&quot;, &quot;SF&quot;, &quot;SG&quot;, &quot;C&quot;, &quot;SG&quot;, &quot;SG&quot;, &quot;C&quot;, &quot;SG&quot;, &quot;PF&quot;, &quot;SF&quot;, &quot;SF&quot;, &quot;PF&quot;, &quot;PF&quot;, &quot;PF&quot;, &quot;C&quot;, &quot;PF&quot;, &quot;PF&quot;, &quot;PF&quot;, &quot;Pos&quot;, &quot;SF&quot;, &quot;PG&quot;, &quot;SF&quot;, &quot;SF&quot;, &quot;SF&quot;, &quot;PG&quot;, &quot;C&quot;, &quot;SG&quot;, &quot;PF&quot;, &quot;SG&quot;, &quot;SG&quot;, &quot;SG…
$ Age    &lt;chr&gt; &quot;25&quot;, &quot;28&quot;, &quot;22&quot;, &quot;25&quot;, &quot;21&quot;, &quot;21&quot;, &quot;25&quot;, &quot;33&quot;, &quot;21&quot;, &quot;23&quot;, &quot;20&quot;, &quot;26&quot;, &quot;28&quot;, &quot;25&quot;, &quot;25&quot;, &quot;30&quot;, &quot;30&quot;, &quot;30&quot;, &quot;20&quot;, &quot;24&quot;, &quot;21&quot;, &quot;34&quot;, &quot;Age&quot;, &quot;21&quot;, &quot;24&quot;, &quot;33&quot;, &quot;33&quot;, &quot;33&quot;, &quot;31&quot;, &quot;20&quot;, &quot;23&quot;, &quot;19&quot;, &quot;25&quot;, &quot;25…
$ Tm     &lt;chr&gt; &quot;OKC&quot;, &quot;PHO&quot;, &quot;ATL&quot;, &quot;OKC&quot;, &quot;MIA&quot;, &quot;CLE&quot;, &quot;DEN&quot;, &quot;SAS&quot;, &quot;CHI&quot;, &quot;UTA&quot;, &quot;BRK&quot;, &quot;NYK&quot;, &quot;POR&quot;, &quot;ATL&quot;, &quot;MEM&quot;, &quot;TOT&quot;, &quot;PHO&quot;, &quot;MIA&quot;, &quot;IND&quot;, &quot;MIL&quot;, &quot;DAL&quot;, &quot;HOU&quot;, &quot;Tm&quot;, &quot;TOR&quot;, &quot;CHI&quot;, &quot;TOT&quot;, &quot;PHO&quot;, &quot;WAS&quot;, &quot;ORL&quot;, …</code></pre>
</div>
<div id="selecting-columns" class="section level2">
<h2>Selecting Columns</h2>
<p>Often you do not need the entire data set. While this is easily handled in base R (as shown earlier), it can be more clear to use <span class="func">select</span> in <span class="pack">dplyr</span>. Now we won’t have to create separate objects, use quotes or $, etc.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="tidyverse.html#cb75-1"></a>bball <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb75-2"><a href="tidyverse.html#cb75-2"></a><span class="st">  </span><span class="kw">select</span>(Player, Tm, Pos) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb75-3"><a href="tidyverse.html#cb75-3"></a><span class="st">  </span><span class="kw">head</span>()</span></code></pre></div>
<pre><code>        Player  Tm Pos
1 Álex Abrines OKC  SG
2   Quincy Acy PHO  PF
3 Jaylen Adams ATL  PG
4 Steven Adams OKC   C
5  Bam Adebayo MIA   C
6    Deng Adel CLE  SF</code></pre>
<p>What if we want to drop some variables?</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="tidyverse.html#cb77-1"></a>bball <span class="op">%&gt;%</span><span class="st">     </span></span>
<span id="cb77-2"><a href="tidyverse.html#cb77-2"></a><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>Player, <span class="op">-</span>Tm, <span class="op">-</span>Pos)  <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb77-3"><a href="tidyverse.html#cb77-3"></a><span class="st">  </span><span class="kw">head</span>()</span></code></pre></div>
<pre><code>  Rk Age  G GS   MP  FG FGA  FG. X3P X3PA X3P. X2P X2PA X2P. eFG.  FT FTA   FT. ORB DRB TRB AST STL BLK TOV  PF  PTS
1  1  25 31  2  588  56 157 .357  41  127 .323  15   30 .500 .487  12  13  .923   5  43  48  20  17   6  14  53  165
2  2  28 10  0  123   4  18 .222   2   15 .133   2    3 .667 .278   7  10  .700   3  22  25   8   1   4   4  24   17
3  3  22 34  1  428  38 110 .345  25   74 .338  13   36 .361 .459   7   9  .778  11  49  60  65  14   5  28  45  108
4  4  25 80 80 2669 481 809 .595   0    2 .000 481  807 .596 .595 146 292  .500 391 369 760 124 117  76 135 204 1108
5  5  21 82 28 1913 280 486 .576   3   15 .200 277  471 .588 .579 166 226  .735 165 432 597 184  71  65 121 203  729
6  6  21 19  3  194  11  36 .306   6   23 .261   5   13 .385 .389   4   4 1.000   3  16  19   5   1   4   6  13   32</code></pre>
<div id="helper-functions" class="section level3">
<h3>Helper functions</h3>
<p>Sometimes, we have a lot of variables to select, and if they have a common naming scheme, this can be very easy.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="tidyverse.html#cb79-1"></a>bball <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb79-2"><a href="tidyverse.html#cb79-2"></a><span class="st">  </span><span class="kw">select</span>(Player, <span class="kw">contains</span>(<span class="st">&quot;3P&quot;</span>), <span class="kw">ends_with</span>(<span class="st">&quot;RB&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb79-3"><a href="tidyverse.html#cb79-3"></a><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(TRB)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb79-4"><a href="tidyverse.html#cb79-4"></a><span class="st">  </span><span class="kw">head</span>()</span></code></pre></div>
<pre><code>  Player X3P X3PA X3P. ORB DRB TRB
1 Player  3P  3PA  3P% ORB DRB TRB
2 Player  3P  3PA  3P% ORB DRB TRB
3 Player  3P  3PA  3P% ORB DRB TRB
4 Player  3P  3PA  3P% ORB DRB TRB
5 Player  3P  3PA  3P% ORB DRB TRB
6 Player  3P  3PA  3P% ORB DRB TRB</code></pre>
<p>The <span class="func">select</span> also has helper functions to make selecting columns even easier. I probably don’t even need to explain what’s being done above, and this is the power of the tidyverse way. Here is the list of <span class="emph">helper functions</span> to be aware of:</p>
<ul>
<li><span class="func">starts_with</span>: starts with a prefix</li>
<li><span class="func">ends_with</span>: ends with a suffix</li>
<li><span class="func">contains</span>: contains a literal string</li>
<li><span class="func">matches</span>: matches a regular expression</li>
<li><span class="func">num_range</span>: a numerical range like x01, x02, x03.</li>
<li><span class="func">one_of</span>: variables in character vector.</li>
<li><span class="func">everything</span>: all variables.</li>
</ul>
</div>
</div>
<div id="filtering-rows" class="section level2">
<h2>Filtering Rows</h2>
<p>There are repeated header rows in this data<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>, so we need to drop them. This is also why everything was character string when we first scraped it, because having any character strings in a column coerces the entire column to be character, since all elements of a vector [need to be of the same type][vectors]. Character string is chosen over others because anything can be converted to a string, but not everything can be a number.</p>
<p>Filtering by rows requires the basic indexing knowledge [we talked about before][indexing], especially Boolean indexing. In the following, <code>Rk</code>, or rank, is for all intents and purposes just a row id, but if it equals the actual text ‘Rk’ instead of something else, we know we’re dealing with a header row, so we’ll drop it.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="tidyverse.html#cb81-1"></a>bball =<span class="st"> </span>bball <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb81-2"><a href="tidyverse.html#cb81-2"></a><span class="st">  </span><span class="kw">filter</span>(Rk <span class="op">!=</span><span class="st"> &quot;Rk&quot;</span>)</span></code></pre></div>
<ul>
<li><span class="func">filter</span> returns rows with matching conditions.</li>
<li><span class="func">slice</span> allows for a numeric indexing approach<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>.</li>
</ul>
<p>Say we want to look at forwards (SF or PF) over the age of 35. The following will do this, and since some players play on multiple teams, we’ll want only the unique information on the variables of interest. The function <span class="func">distinct</span> allows us to do this.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="tidyverse.html#cb82-1"></a>bball <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb82-2"><a href="tidyverse.html#cb82-2"></a><span class="st">  </span><span class="kw">filter</span>(Age <span class="op">&gt;</span><span class="st"> </span><span class="dv">35</span>, Pos <span class="op">==</span><span class="st"> &quot;SF&quot;</span> <span class="op">|</span><span class="st"> </span>Pos <span class="op">==</span><span class="st"> &quot;PF&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb82-3"><a href="tidyverse.html#cb82-3"></a><span class="st">  </span><span class="kw">distinct</span>(Player, Pos, Age)              </span></code></pre></div>
<pre><code>         Player Pos Age
1  Vince Carter  PF  42
2   Kyle Korver  PF  37
3 Dirk Nowitzki  PF  40</code></pre>
<p>Maybe we want just the first 10 rows. This is often the case when we perform some operation and need to quickly verify that what we’re doing is working in principle.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="tidyverse.html#cb84-1"></a>bball <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb84-2"><a href="tidyverse.html#cb84-2"></a><span class="st">  </span><span class="kw">slice</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>   Rk                 Player Pos Age  Tm  G GS   MP  FG  FGA  FG. X3P X3PA X3P. X2P X2PA X2P. eFG.  FT FTA   FT. ORB DRB TRB AST STL BLK TOV  PF  PTS
1   1           Álex Abrines  SG  25 OKC 31  2  588  56  157 .357  41  127 .323  15   30 .500 .487  12  13  .923   5  43  48  20  17   6  14  53  165
2   2             Quincy Acy  PF  28 PHO 10  0  123   4   18 .222   2   15 .133   2    3 .667 .278   7  10  .700   3  22  25   8   1   4   4  24   17
3   3           Jaylen Adams  PG  22 ATL 34  1  428  38  110 .345  25   74 .338  13   36 .361 .459   7   9  .778  11  49  60  65  14   5  28  45  108
4   4           Steven Adams   C  25 OKC 80 80 2669 481  809 .595   0    2 .000 481  807 .596 .595 146 292  .500 391 369 760 124 117  76 135 204 1108
5   5            Bam Adebayo   C  21 MIA 82 28 1913 280  486 .576   3   15 .200 277  471 .588 .579 166 226  .735 165 432 597 184  71  65 121 203  729
6   6              Deng Adel  SF  21 CLE 19  3  194  11   36 .306   6   23 .261   5   13 .385 .389   4   4 1.000   3  16  19   5   1   4   6  13   32
7   7 DeVaughn Akoon-Purcell  SG  25 DEN  7  0   22   3   10 .300   0    4 .000   3    6 .500 .300   1   2  .500   1   3   4   6   2   0   2   4    7
8   8      LaMarcus Aldridge   C  33 SAS 81 81 2687 684 1319 .519  10   42 .238 674 1277 .528 .522 349 412  .847 251 493 744 194  43 107 144 179 1727
9   9           Rawle Alkins  SG  21 CHI 10  1  120  13   39 .333   3   12 .250  10   27 .370 .372   8  12  .667  11  15  26  13   1   0   8   7   37
10 10          Grayson Allen  SG  23 UTA 38  2  416  67  178 .376  32   99 .323  35   79 .443 .466  45  60  .750   3  20  23  25   6   6  33  47  211</code></pre>
<p>We can use filtering even with variables just created.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="tidyverse.html#cb86-1"></a>bball <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb86-2"><a href="tidyverse.html#cb86-2"></a><span class="st">  </span><span class="kw">unite</span>(<span class="st">&quot;posTeam&quot;</span>, Pos, Tm) <span class="op">%&gt;%</span><span class="st">         </span><span class="co"># create a new variable</span></span>
<span id="cb86-3"><a href="tidyverse.html#cb86-3"></a><span class="st">  </span><span class="kw">filter</span>(posTeam <span class="op">==</span><span class="st"> &quot;SG_GSW&quot;</span>) <span class="op">%&gt;%</span><span class="st">       </span><span class="co"># use it for filtering</span></span>
<span id="cb86-4"><a href="tidyverse.html#cb86-4"></a><span class="st">  </span><span class="kw">select</span>(Player, posTeam, Age) <span class="op">%&gt;%</span><span class="st">      </span><span class="co"># use it for selection</span></span>
<span id="cb86-5"><a href="tidyverse.html#cb86-5"></a><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(Age))                    <span class="co"># descending order </span></span></code></pre></div>
<pre><code>         Player posTeam Age
1 Klay Thompson  SG_GSW  28
2    Damion Lee  SG_GSW  26
3   Jacob Evans  SG_GSW  21</code></pre>
<p>Being able to use a newly created variable on the fly, possibly only to filter or create some other variable, goes a long way toward easy visualization and generation of desired summary statistics.</p>
</div>
<div id="generating-new-data" class="section level2">
<h2>Generating New Data</h2>
<p>One of the most common data processing tasks is generating new variables. The function <span class="func">mutate</span> takes a vector and returns one of the same dimension. In addition, there is <span class="func">mutate_at</span>, <span class="func">mutate_if</span>, and <span class="func">mutate_all</span> to help with specific scenarios.</p>
<p>To demonstrate, we’ll use <span class="func">mutate_at</span> to make appropriate columns numeric, i.e. everything except <code>Player</code>, <code>Pos</code>, and <code>Tm</code>. It takes two inputs, variables and functions to apply. As there are multiple variables and (potentially) multiple functions, we use the <span class="func">vars</span> and <span class="func">funs</span> functions to denote them<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a>.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="tidyverse.html#cb88-1"></a>bball =<span class="st"> </span>bball <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb88-2"><a href="tidyverse.html#cb88-2"></a><span class="st">  </span><span class="kw">mutate_at</span>(<span class="kw">vars</span>(<span class="op">-</span>Player, <span class="op">-</span>Pos, <span class="op">-</span>Tm), as.numeric)   </span>
<span id="cb88-3"><a href="tidyverse.html#cb88-3"></a></span>
<span id="cb88-4"><a href="tidyverse.html#cb88-4"></a><span class="kw">glimpse</span>(bball[,<span class="dv">1</span><span class="op">:</span><span class="dv">7</span>])</span></code></pre></div>
<pre><code>Rows: 708
Columns: 7
$ Rk     &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 16, 16, 17, 18, 19, 20, 21, 22, 23, 23, 23, 24, 25, 26, 27, 28, 28, 28, 29, 30, 31, 32, 33, 33, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45,…
$ Player &lt;chr&gt; &quot;Álex Abrines&quot;, &quot;Quincy Acy&quot;, &quot;Jaylen Adams&quot;, &quot;Steven Adams&quot;, &quot;Bam Adebayo&quot;, &quot;Deng Adel&quot;, &quot;DeVaughn Akoon-Purcell&quot;, &quot;LaMarcus Aldridge&quot;, &quot;Rawle Alkins&quot;, &quot;Grayson Allen&quot;, &quot;Jarrett Allen&quot;, &quot;Kadeem Allen&quot;,…
$ Pos    &lt;chr&gt; &quot;SG&quot;, &quot;PF&quot;, &quot;PG&quot;, &quot;C&quot;, &quot;C&quot;, &quot;SF&quot;, &quot;SG&quot;, &quot;C&quot;, &quot;SG&quot;, &quot;SG&quot;, &quot;C&quot;, &quot;SG&quot;, &quot;PF&quot;, &quot;SF&quot;, &quot;SF&quot;, &quot;PF&quot;, &quot;PF&quot;, &quot;PF&quot;, &quot;C&quot;, &quot;PF&quot;, &quot;PF&quot;, &quot;PF&quot;, &quot;SF&quot;, &quot;PG&quot;, &quot;SF&quot;, &quot;SF&quot;, &quot;SF&quot;, &quot;PG&quot;, &quot;C&quot;, &quot;SG&quot;, &quot;PF&quot;, &quot;SG&quot;, &quot;SG&quot;, &quot;SG&quot;, &quot;PG&quot;…
$ Age    &lt;dbl&gt; 25, 28, 22, 25, 21, 21, 25, 33, 21, 23, 20, 26, 28, 25, 25, 30, 30, 30, 20, 24, 21, 34, 21, 24, 33, 33, 33, 31, 20, 23, 19, 25, 25, 25, 22, 21, 20, 34, 26, 26, 26, 28, 23, 30, 30, 32, 29, 25, 22, 30, 32…
$ Tm     &lt;chr&gt; &quot;OKC&quot;, &quot;PHO&quot;, &quot;ATL&quot;, &quot;OKC&quot;, &quot;MIA&quot;, &quot;CLE&quot;, &quot;DEN&quot;, &quot;SAS&quot;, &quot;CHI&quot;, &quot;UTA&quot;, &quot;BRK&quot;, &quot;NYK&quot;, &quot;POR&quot;, &quot;ATL&quot;, &quot;MEM&quot;, &quot;TOT&quot;, &quot;PHO&quot;, &quot;MIA&quot;, &quot;IND&quot;, &quot;MIL&quot;, &quot;DAL&quot;, &quot;HOU&quot;, &quot;TOR&quot;, &quot;CHI&quot;, &quot;TOT&quot;, &quot;PHO&quot;, &quot;WAS&quot;, &quot;ORL&quot;, &quot;PHO&quot;,…
$ G      &lt;dbl&gt; 31, 10, 34, 80, 82, 19, 7, 81, 10, 38, 80, 19, 81, 48, 43, 25, 15, 10, 3, 72, 2, 10, 67, 81, 69, 26, 43, 81, 71, 43, 62, 15, 11, 4, 16, 47, 47, 38, 77, 49, 28, 43, 30, 75, 34, 51, 67, 82, 81, 26, 79, 68…
$ GS     &lt;dbl&gt; 2, 0, 1, 80, 28, 3, 0, 81, 1, 2, 80, 1, 81, 4, 40, 8, 8, 0, 0, 72, 0, 2, 6, 32, 69, 26, 43, 81, 70, 13, 4, 0, 0, 0, 0, 45, 1, 0, 77, 49, 28, 38, 3, 72, 6, 18, 35, 82, 18, 2, 1, 3, 15, 27, 0, 12, 49, 1, …</code></pre>
<p>Now that the data columns are of the correct type, the following demonstrates how we can use the standard <span class="func">mutate</span> function to create composites of existing variables.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="tidyverse.html#cb90-1"></a>bball =<span class="st"> </span>bball <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb90-2"><a href="tidyverse.html#cb90-2"></a><span class="st">  </span><span class="kw">mutate</span>(</span>
<span id="cb90-3"><a href="tidyverse.html#cb90-3"></a>    <span class="dt">trueShooting =</span> PTS <span class="op">/</span><span class="st"> </span>(<span class="dv">2</span> <span class="op">*</span><span class="st"> </span>(FGA <span class="op">+</span><span class="st"> </span>(.<span class="dv">44</span> <span class="op">*</span><span class="st"> </span>FTA))),</span>
<span id="cb90-4"><a href="tidyverse.html#cb90-4"></a>    <span class="dt">effectiveFG  =</span> (FG <span class="op">+</span><span class="st"> </span>(.<span class="dv">5</span> <span class="op">*</span><span class="st"> </span>X3P)) <span class="op">/</span><span class="st"> </span>FGA,</span>
<span id="cb90-5"><a href="tidyverse.html#cb90-5"></a>    <span class="dt">shootingDif  =</span> trueShooting <span class="op">-</span><span class="st"> </span>FG.</span>
<span id="cb90-6"><a href="tidyverse.html#cb90-6"></a>  )</span>
<span id="cb90-7"><a href="tidyverse.html#cb90-7"></a></span>
<span id="cb90-8"><a href="tidyverse.html#cb90-8"></a><span class="kw">summary</span>(<span class="kw">select</span>(bball, shootingDif))  <span class="co"># select and others don&#39;t have to be piped to use</span></span></code></pre></div>
<pre><code>  shootingDif      
 Min.   :-0.08561  
 1st Qu.: 0.06722  
 Median : 0.09829  
 Mean   : 0.09420  
 3rd Qu.: 0.12379  
 Max.   : 0.53192  
 NA&#39;s   :6         </code></pre>
</div>
<div id="grouping-and-summarizing-data" class="section level2">
<h2>Grouping and Summarizing Data</h2>
<p>Another very common task is to look at group-based statistics, and we can use <span class="func">group_by</span> and <span class="func">summarize</span> to help us in this regard<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a>. Base R has things like <span class="func">aggregate</span>, <span class="func">by</span>, and <span class="func">tapply</span> for this, but they should not be used, as this approach is much more straightforward, flexible, and faster.</p>
<p>For this demonstration, I’m going to start putting together several things we’ve demonstrated thus far. Ultimately we’ll create a variable called <span class="objclass">trueShooting</span>, which represents ‘true shooting percentage’, and get an average for each position, and compare it to the average field goal percentage.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="tidyverse.html#cb92-1"></a>bball <span class="op">%&gt;%</span><span class="st">   </span></span>
<span id="cb92-2"><a href="tidyverse.html#cb92-2"></a><span class="st">  </span><span class="kw">select</span>(Pos, FG, FGA, FG., FTA, X3P, PTS) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb92-3"><a href="tidyverse.html#cb92-3"></a><span class="st">  </span><span class="kw">mutate</span>(</span>
<span id="cb92-4"><a href="tidyverse.html#cb92-4"></a>    <span class="dt">trueShooting =</span> PTS <span class="op">/</span><span class="st"> </span>(<span class="dv">2</span> <span class="op">*</span><span class="st"> </span>(FGA <span class="op">+</span><span class="st"> </span>(.<span class="dv">44</span> <span class="op">*</span><span class="st"> </span>FTA))),</span>
<span id="cb92-5"><a href="tidyverse.html#cb92-5"></a>    <span class="dt">effectiveFG =</span> (FG <span class="op">+</span><span class="st"> </span>(.<span class="dv">5</span> <span class="op">*</span><span class="st"> </span>X3P)) <span class="op">/</span><span class="st"> </span>FGA,</span>
<span id="cb92-6"><a href="tidyverse.html#cb92-6"></a>    <span class="dt">shootingDif =</span> trueShooting <span class="op">-</span><span class="st"> </span>FG.</span>
<span id="cb92-7"><a href="tidyverse.html#cb92-7"></a>  ) <span class="op">%&gt;%</span><span class="st">  </span></span>
<span id="cb92-8"><a href="tidyverse.html#cb92-8"></a><span class="st">  </span><span class="kw">group_by</span>(Pos) <span class="op">%&gt;%</span><span class="st">                                                 </span></span>
<span id="cb92-9"><a href="tidyverse.html#cb92-9"></a><span class="st">  </span><span class="kw">summarize</span>(</span>
<span id="cb92-10"><a href="tidyverse.html#cb92-10"></a>    <span class="st">`</span><span class="dt">Mean FG%</span><span class="st">`</span> =<span class="st"> </span><span class="kw">mean</span>(FG., <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</span>
<span id="cb92-11"><a href="tidyverse.html#cb92-11"></a>    <span class="st">`</span><span class="dt">Mean True Shooting</span><span class="st">`</span> =<span class="st"> </span><span class="kw">mean</span>(trueShooting, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span>
<span id="cb92-12"><a href="tidyverse.html#cb92-12"></a>  )    </span></code></pre></div>
<pre><code># A tibble: 11 x 3
   Pos   `Mean FG%` `Mean True Shooting`
   &lt;chr&gt;      &lt;dbl&gt;                &lt;dbl&gt;
 1 C          0.522                0.572
 2 C-PF       0.407                0.530
 3 PF         0.442                0.536
 4 PF-C       0.356                0.492
 5 PF-SF      0.419                0.544
 6 PG         0.409                0.512
 7 SF         0.425                0.529
 8 SF-SG      0.431                0.558
 9 SG         0.407                0.517
10 SG-PF      0.416                0.582
11 SG-SF      0.38                 0.466</code></pre>
<p>We can use <span class="func">do</span> on grouped data to go further. This function can be used to create a new <span class="emph">list-column</span> in the data, the elements of which can be anything, even the results of an analysis for each group. As such, we can use <span class="pack">tidyr’s</span> <span class="func">unnest</span> to get back to a standard data frame.</p>
<p>To demonstrate, the following will group data by position, then get the correlation between field-goal percentage and free-throw shooting percentage. Some players are listed with multiple positions, so we will reduce those to whatever their first position is. On your own, I recommend just looking at it to the do line first, and compare to this result.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="tidyverse.html#cb94-1"></a>bball <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb94-2"><a href="tidyverse.html#cb94-2"></a><span class="st">  </span><span class="kw">mutate</span>(</span>
<span id="cb94-3"><a href="tidyverse.html#cb94-3"></a>    <span class="dt">Pos =</span> <span class="kw">case_when</span>(</span>
<span id="cb94-4"><a href="tidyverse.html#cb94-4"></a>      Pos <span class="op">==</span><span class="st"> &#39;PG-SG&#39;</span> <span class="op">~</span><span class="st"> &#39;PG&#39;</span>,</span>
<span id="cb94-5"><a href="tidyverse.html#cb94-5"></a>      Pos <span class="op">==</span><span class="st"> &#39;C-PF&#39;</span>  <span class="op">~</span><span class="st"> &#39;C&#39;</span>,</span>
<span id="cb94-6"><a href="tidyverse.html#cb94-6"></a>      Pos <span class="op">==</span><span class="st"> &#39;SF-SG&#39;</span> <span class="op">~</span><span class="st"> &#39;SF&#39;</span>,</span>
<span id="cb94-7"><a href="tidyverse.html#cb94-7"></a>      Pos <span class="op">==</span><span class="st"> &#39;PF-C&#39;</span>  <span class="op">|</span><span class="st"> </span>Pos <span class="op">==</span><span class="st"> &#39;PF-SF&#39;</span> <span class="op">~</span><span class="st"> &#39;PF&#39;</span>,</span>
<span id="cb94-8"><a href="tidyverse.html#cb94-8"></a>      Pos <span class="op">==</span><span class="st"> &#39;SG-PF&#39;</span> <span class="op">|</span><span class="st"> </span>Pos <span class="op">==</span><span class="st"> &#39;SG-SF&#39;</span> <span class="op">~</span><span class="st"> &#39;SG&#39;</span>,</span>
<span id="cb94-9"><a href="tidyverse.html#cb94-9"></a>      <span class="ot">TRUE</span> <span class="op">~</span><span class="st"> </span>Pos</span>
<span id="cb94-10"><a href="tidyverse.html#cb94-10"></a>    )) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb94-11"><a href="tidyverse.html#cb94-11"></a><span class="st">  </span><span class="kw">group_by</span>(Pos) <span class="op">%&gt;%</span><span class="st">     </span></span>
<span id="cb94-12"><a href="tidyverse.html#cb94-12"></a><span class="st">  </span><span class="kw">do</span>(<span class="dt">FgFt_Corr =</span> <span class="kw">cor</span>(.<span class="op">$</span>FG., .<span class="op">$</span>FT., <span class="dt">use =</span> <span class="st">&#39;complete&#39;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb94-13"><a href="tidyverse.html#cb94-13"></a><span class="st">  </span><span class="kw">unnest</span>(FgFt_Corr)</span></code></pre></div>
<pre><code># A tibble: 5 x 2
  Pos   FgFt_Corr
  &lt;chr&gt;     &lt;dbl&gt;
1 C      -0.122  
2 PF     -0.0186 
3 PG      0.0857 
4 SF      0.00422
5 SG     -0.0585 </code></pre>
<p>As a reminder, data frames are lists. As such, anything can go into the ‘columns’.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="tidyverse.html#cb96-1"></a><span class="kw">library</span>(nycflights13)</span>
<span id="cb96-2"><a href="tidyverse.html#cb96-2"></a>carriers =<span class="st"> </span><span class="kw">group_by</span>(flights, carrier)</span>
<span id="cb96-3"><a href="tidyverse.html#cb96-3"></a><span class="kw">group_size</span>(carriers)</span></code></pre></div>
<pre><code> [1] 18460 32729   714 54635 48110 54173   685  3260   342 26397    32 58665 20536  5162 12275   601</code></pre>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="tidyverse.html#cb98-1"></a>mods =<span class="st"> </span>carriers <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb98-2"><a href="tidyverse.html#cb98-2"></a><span class="st">  </span><span class="kw">do</span>(<span class="dt">model =</span> <span class="kw">lm</span>(arr_delay <span class="op">~</span><span class="st"> </span>dep_time, <span class="dt">data =</span> .)) </span>
<span id="cb98-3"><a href="tidyverse.html#cb98-3"></a></span>
<span id="cb98-4"><a href="tidyverse.html#cb98-4"></a>mods</span></code></pre></div>
<pre><code>Source: local data frame [16 x 2]
Groups: &lt;by row&gt;

# A tibble: 16 x 2
   carrier model 
 * &lt;chr&gt;   &lt;list&gt;
 1 9E      &lt;lm&gt;  
 2 AA      &lt;lm&gt;  
 3 AS      &lt;lm&gt;  
 4 B6      &lt;lm&gt;  
 5 DL      &lt;lm&gt;  
 6 EV      &lt;lm&gt;  
 7 F9      &lt;lm&gt;  
 8 FL      &lt;lm&gt;  
 9 HA      &lt;lm&gt;  
10 MQ      &lt;lm&gt;  
11 OO      &lt;lm&gt;  
12 UA      &lt;lm&gt;  
13 US      &lt;lm&gt;  
14 VX      &lt;lm&gt;  
15 WN      &lt;lm&gt;  
16 YV      &lt;lm&gt;  </code></pre>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="tidyverse.html#cb100-1"></a>mods <span class="op">%&gt;%</span></span>
<span id="cb100-2"><a href="tidyverse.html#cb100-2"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">carrier =</span> carrier,</span>
<span id="cb100-3"><a href="tidyverse.html#cb100-3"></a>            <span class="st">`</span><span class="dt">Adjusted Rsq</span><span class="st">`</span> =<span class="st"> </span><span class="kw">summary</span>(model)<span class="op">$</span>adj.r.squared) <span class="op">%&gt;%</span></span>
<span id="cb100-4"><a href="tidyverse.html#cb100-4"></a><span class="st">  </span><span class="kw">head</span>()</span></code></pre></div>
<pre><code># A tibble: 6 x 2
  carrier `Adjusted Rsq`
  &lt;chr&gt;            &lt;dbl&gt;
1 9E              0.0513
2 AA              0.0504
3 AS              0.0815
4 B6              0.0241
5 DL              0.0347
6 EV              0.0836</code></pre>
<div class="note">
<p>You can use <span class="func">group_by</span> on more than one variable, e.g. <code>group_by(var1, var2)</code></p>
<p><img class='img-note' src="img/R.ico" style="display:block; margin: 0 auto;"></p>
</div>
</div>
<div id="renaming-columns" class="section level2">
<h2>Renaming columns</h2>
<p>Tibbles in the tidyverse don’t really have a problem with variable names starting with numbers or incorporating symbols and spaces. I would still suggest it is poor practice, because even if your data set looks fine, you’ll encounter problems with modeling and visualization package using that data. However, as a demonstration, we can ‘fix’ some of the variable names.</p>
<p>One issue is that when we scraped the data and converted it to a <span class="objclass">data.frame</span>, the names that started with a number, like <code>3P</code> for ‘three point baskets made’, were made into <code>X3P</code>, because that’s the way R works by default. In addition, <code>3P%</code>, i.e. three point percentage made, was made into <code>3P.</code> Same goes for the 2P (two-pointers) and FT (free-throw) variables.</p>
<p>We can use rename to change column names. A basic example is as follows.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="tidyverse.html#cb102-1"></a>data <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb102-2"><a href="tidyverse.html#cb102-2"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">new_name =</span> old_name,</span>
<span id="cb102-3"><a href="tidyverse.html#cb102-3"></a>         <span class="dt">new_name2 =</span> old_name2)</span></code></pre></div>
<p>Very straightforward. However, oftentimes we’ll need to change <em>patterns</em>, as with our current problem. The following uses <span class="func">str_replace</span> and <span class="func">str_remove</span> from <span class="pack">stringr</span> to look for a pattern in a name, and replace that pattern with some other pattern. It uses <span class="emph">regular expressions</span> for the patterns.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="tidyverse.html#cb103-1"></a>bball <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb103-2"><a href="tidyverse.html#cb103-2"></a><span class="st">  </span><span class="kw">rename_at</span>(<span class="kw">vars</span>(<span class="kw">contains</span>(<span class="st">&#39;.&#39;</span>)), str_replace, <span class="dt">pattern=</span><span class="st">&#39;</span><span class="ch">\\</span><span class="st">.&#39;</span>, <span class="dt">replacement=</span><span class="st">&#39;%&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb103-3"><a href="tidyverse.html#cb103-3"></a><span class="st">  </span><span class="kw">rename_at</span>(<span class="kw">vars</span>(<span class="kw">starts_with</span>(<span class="st">&#39;X&#39;</span>)), str_remove, <span class="dt">pattern=</span><span class="st">&#39;X&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb103-4"><a href="tidyverse.html#cb103-4"></a><span class="st">  </span><span class="kw">colnames</span>()</span></code></pre></div>
<pre><code> [1] &quot;Rk&quot;           &quot;Player&quot;       &quot;Pos&quot;          &quot;Age&quot;          &quot;Tm&quot;           &quot;G&quot;            &quot;GS&quot;           &quot;MP&quot;           &quot;FG&quot;           &quot;FGA&quot;          &quot;FG%&quot;          &quot;3P&quot;           &quot;3PA&quot;          &quot;3P%&quot;         
[15] &quot;2P&quot;           &quot;2PA&quot;          &quot;2P%&quot;          &quot;eFG%&quot;         &quot;FT&quot;           &quot;FTA&quot;          &quot;FT%&quot;          &quot;ORB&quot;          &quot;DRB&quot;          &quot;TRB&quot;          &quot;AST&quot;          &quot;STL&quot;          &quot;BLK&quot;          &quot;TOV&quot;         
[29] &quot;PF&quot;           &quot;PTS&quot;          &quot;trueShooting&quot; &quot;effectiveFG&quot;  &quot;shootingDif&quot; </code></pre>
</div>
<div id="merging-data" class="section level2">
<h2>Merging Data</h2>
<p>Merging data is yet another very common data task, as data often comes from multiple sources. In order to do this, we need some common identifier among the sources by which to join them. The following is a list of <span class="pack">dplyr</span> join functions.</p>
<p><span class="func">inner_join</span>: return all rows from x where there are matching values in y, and all columns from x and y. If there are multiple matches between x and y, all combination of the matches are returned.</p>
<p><span class="func">left_join</span>: return all rows from x, and all columns from x and y. Rows in x with no match in y will have NA values in the new columns. If there are multiple matches between x and y, all combinations of the matches are returned.</p>
<p><span class="func">right_join</span>: return all rows from y, and all columns from x and y. Rows in y with no match in x will have NA values in the new columns. If there are multiple matches between x and y, all combinations of the matches are returned.</p>
<p><span class="func">semi_join</span>: return all rows from x where there are matching values in y, keeping just columns from x. It differs from an inner join because an inner join will return one row of x for each matching row of y, where a semi join will never duplicate rows of x.</p>
<p><span class="func">anti_join</span>: return all rows from x where there are not matching values in y, keeping just columns from x.</p>
<p><span class="func">full_join</span>: return all rows and all columns from both x and y. Where there are not matching values, returns NA for the one missing.</p>
<p>Probably the most common is a left join, where we have one primary data set, and are adding data from another source to it while retaining it as a base. The following is a simple demonstration.</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="tidyverse.html#cb105-1"></a>band_members</span></code></pre></div>
<pre><code># A tibble: 3 x 2
  Name    Band        
  &lt;chr&gt;   &lt;chr&gt;       
1 Seth    Com Truise  
2 Francis Pixies      
3 Bubba   The New Year</code></pre>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="tidyverse.html#cb107-1"></a>band_instruments</span></code></pre></div>
<pre><code># A tibble: 3 x 2
  Name    Instrument 
  &lt;chr&gt;   &lt;chr&gt;      
1 Seth    Synthesizer
2 Francis Guitar     
3 Bubba   Guitar     </code></pre>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="tidyverse.html#cb109-1"></a><span class="kw">left_join</span>(band_members, band_instruments)</span></code></pre></div>
<pre><code>Joining, by = &quot;Name&quot;</code></pre>
<pre><code># A tibble: 3 x 3
  Name    Band         Instrument 
  &lt;chr&gt;   &lt;chr&gt;        &lt;chr&gt;      
1 Seth    Com Truise   Synthesizer
2 Francis Pixies       Guitar     
3 Bubba   The New Year Guitar     </code></pre>
<p>When we don’t have a one to one match, the result of the different types of join will become more apparent.</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="tidyverse.html#cb112-1"></a>band_members</span></code></pre></div>
<pre><code># A tibble: 4 x 2
  Name    Band        
  &lt;chr&gt;   &lt;chr&gt;       
1 Seth    Com Truise  
2 Francis Pixies      
3 Bubba   The New Year
4 Stephen Pavement    </code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="tidyverse.html#cb114-1"></a>band_instruments</span></code></pre></div>
<pre><code># A tibble: 4 x 2
  Name    Instrument 
  &lt;chr&gt;   &lt;chr&gt;      
1 Seth    Synthesizer
2 Francis Guitar     
3 Bubba   Guitar     
4 Steve   Rage       </code></pre>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="tidyverse.html#cb116-1"></a><span class="kw">left_join</span>(band_members, band_instruments)  </span></code></pre></div>
<pre><code>Joining, by = &quot;Name&quot;</code></pre>
<pre><code># A tibble: 4 x 3
  Name    Band         Instrument 
  &lt;chr&gt;   &lt;chr&gt;        &lt;chr&gt;      
1 Seth    Com Truise   Synthesizer
2 Francis Pixies       Guitar     
3 Bubba   The New Year Guitar     
4 Stephen Pavement     &lt;NA&gt;       </code></pre>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="tidyverse.html#cb119-1"></a><span class="kw">right_join</span>(band_members, band_instruments)</span></code></pre></div>
<pre><code>Joining, by = &quot;Name&quot;</code></pre>
<pre><code># A tibble: 4 x 3
  Name    Band         Instrument 
  &lt;chr&gt;   &lt;chr&gt;        &lt;chr&gt;      
1 Seth    Com Truise   Synthesizer
2 Francis Pixies       Guitar     
3 Bubba   The New Year Guitar     
4 Steve   &lt;NA&gt;         Rage       </code></pre>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="tidyverse.html#cb122-1"></a><span class="kw">inner_join</span>(band_members, band_instruments)</span></code></pre></div>
<pre><code>Joining, by = &quot;Name&quot;</code></pre>
<pre><code># A tibble: 3 x 3
  Name    Band         Instrument 
  &lt;chr&gt;   &lt;chr&gt;        &lt;chr&gt;      
1 Seth    Com Truise   Synthesizer
2 Francis Pixies       Guitar     
3 Bubba   The New Year Guitar     </code></pre>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="tidyverse.html#cb125-1"></a><span class="kw">full_join</span>(band_members, band_instruments)</span></code></pre></div>
<pre><code>Joining, by = &quot;Name&quot;</code></pre>
<pre><code># A tibble: 5 x 3
  Name    Band         Instrument 
  &lt;chr&gt;   &lt;chr&gt;        &lt;chr&gt;      
1 Seth    Com Truise   Synthesizer
2 Francis Pixies       Guitar     
3 Bubba   The New Year Guitar     
4 Stephen Pavement     &lt;NA&gt;       
5 Steve   &lt;NA&gt;         Rage       </code></pre>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="tidyverse.html#cb128-1"></a><span class="kw">anti_join</span>(band_members, band_instruments)</span></code></pre></div>
<pre><code>Joining, by = &quot;Name&quot;</code></pre>
<pre><code># A tibble: 1 x 2
  Name    Band    
  &lt;chr&gt;   &lt;chr&gt;   
1 Stephen Pavement</code></pre>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="tidyverse.html#cb131-1"></a><span class="kw">anti_join</span>(band_instruments, band_members)</span></code></pre></div>
<pre><code>Joining, by = &quot;Name&quot;</code></pre>
<pre><code># A tibble: 1 x 2
  Name  Instrument
  &lt;chr&gt; &lt;chr&gt;     
1 Steve Rage      </code></pre>
<p>Merges can get quite complex, and involve multiple data sources. In many cases you may have to do a lot of processing before getting to the merge, but <span class="pack">dplyr’s</span> joins will help quite a bit.</p>
</div>
<div id="tidyr" class="section level2">
<h2>tidyr</h2>
<p>The <span class="pack">tidyr</span> package can be thought of as a specialized subset of <span class="pack">dplyr’s</span> functionality, as well as an update to the previous <span class="pack">reshape</span> and <span class="pack">reshape2</span> packages<a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a>. Some of its functions for manipulating data you’ll want to be familiar with are:</p>
<ul>
<li><span class="func">pivot_longer</span>: convert data from a wider format to longer one</li>
<li><span class="func">pivot_wider</span>: convert data from a longer format to wider one</li>
<li><span class="func">unite</span>: paste together multiple columns into one</li>
<li><span class="func">separate</span>: complement of <span class="func" style="">unite</span></li>
<li><span class="func">unnest</span>: expand ‘list columns’</li>
</ul>
<p>The following example shows how we take a ‘wide-form’ data set, where multiple columns represent different stock prices, and turn it into two columns, one representing stock name, and one for the price. We need to know which columns to work on, which is the first entry. It works very much like the select function, where you can use helpers etc. Then we need to give a name to the column(s) representing the indicators of what were multiple columns in the wide format. And finally we need to specify the column(s) of the values.</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="tidyverse.html#cb134-1"></a><span class="kw">library</span>(tidyr)</span>
<span id="cb134-2"><a href="tidyverse.html#cb134-2"></a></span>
<span id="cb134-3"><a href="tidyverse.html#cb134-3"></a>stocks &lt;-<span class="st"> </span><span class="kw">data.frame</span>(</span>
<span id="cb134-4"><a href="tidyverse.html#cb134-4"></a>  <span class="dt">time =</span> <span class="kw">as.Date</span>(<span class="st">&#39;2009-01-01&#39;</span>) <span class="op">+</span><span class="st"> </span><span class="dv">0</span><span class="op">:</span><span class="dv">9</span>,</span>
<span id="cb134-5"><a href="tidyverse.html#cb134-5"></a>  <span class="dt">X =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>, <span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb134-6"><a href="tidyverse.html#cb134-6"></a>  <span class="dt">Y =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>, <span class="dv">0</span>, <span class="dv">2</span>),</span>
<span id="cb134-7"><a href="tidyverse.html#cb134-7"></a>  <span class="dt">Z =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>, <span class="dv">0</span>, <span class="dv">4</span>)</span>
<span id="cb134-8"><a href="tidyverse.html#cb134-8"></a>)</span>
<span id="cb134-9"><a href="tidyverse.html#cb134-9"></a></span>
<span id="cb134-10"><a href="tidyverse.html#cb134-10"></a>stocks <span class="op">%&gt;%</span><span class="st"> </span>head</span></code></pre></div>
<pre><code>        time          X          Y         Z
1 2009-01-01  0.7175566 -0.2991485  1.032988
2 2009-01-02 -1.2419940  0.7770969  5.390897
3 2009-01-03  0.5220088  0.6288678 -5.136477
4 2009-01-04 -0.8580070  1.3109946  6.902047
5 2009-01-05  2.1723762  2.0070621 -1.951933
6 2009-01-06  0.4320193 -2.1617030 -7.348878</code></pre>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="tidyverse.html#cb136-1"></a>stocks <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb136-2"><a href="tidyverse.html#cb136-2"></a><span class="st">  </span><span class="kw">pivot_longer</span>(</span>
<span id="cb136-3"><a href="tidyverse.html#cb136-3"></a>    <span class="dt">cols =</span> <span class="op">-</span>time,        <span class="co"># works similar to using select()</span></span>
<span id="cb136-4"><a href="tidyverse.html#cb136-4"></a>    <span class="dt">names_to =</span> <span class="st">&#39;stock&#39;</span>,  <span class="co"># the name of the column that will have column names as labels</span></span>
<span id="cb136-5"><a href="tidyverse.html#cb136-5"></a>    <span class="dt">values_to =</span> <span class="st">&#39;price&#39;</span>  <span class="co"># the name of the column for the values</span></span>
<span id="cb136-6"><a href="tidyverse.html#cb136-6"></a>  ) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb136-7"><a href="tidyverse.html#cb136-7"></a><span class="st">  </span><span class="kw">head</span>()</span></code></pre></div>
<pre><code># A tibble: 6 x 3
  time       stock  price
  &lt;date&gt;     &lt;chr&gt;  &lt;dbl&gt;
1 2009-01-01 X      0.718
2 2009-01-01 Y     -0.299
3 2009-01-01 Z      1.03 
4 2009-01-02 X     -1.24 
5 2009-01-02 Y      0.777
6 2009-01-02 Z      5.39 </code></pre>
<p>Here is a more complex example where we can handle multiple repeated entries. We additionally add another column for labeling, and posit the separator for the column names.</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="tidyverse.html#cb138-1"></a><span class="kw">library</span>(tidyr)</span>
<span id="cb138-2"><a href="tidyverse.html#cb138-2"></a></span>
<span id="cb138-3"><a href="tidyverse.html#cb138-3"></a>stocks &lt;-<span class="st"> </span><span class="kw">data.frame</span>(</span>
<span id="cb138-4"><a href="tidyverse.html#cb138-4"></a>  <span class="dt">time =</span> <span class="kw">as.Date</span>(<span class="st">&#39;2009-01-01&#39;</span>) <span class="op">+</span><span class="st"> </span><span class="dv">0</span><span class="op">:</span><span class="dv">9</span>,</span>
<span id="cb138-5"><a href="tidyverse.html#cb138-5"></a>  <span class="dt">X_1 =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>, <span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb138-6"><a href="tidyverse.html#cb138-6"></a>  <span class="dt">X_2 =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>, <span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb138-7"><a href="tidyverse.html#cb138-7"></a>  <span class="dt">Y_1 =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>, <span class="dv">0</span>, <span class="dv">2</span>),</span>
<span id="cb138-8"><a href="tidyverse.html#cb138-8"></a>  <span class="dt">Y_2 =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>, <span class="dv">0</span>, <span class="dv">2</span>),</span>
<span id="cb138-9"><a href="tidyverse.html#cb138-9"></a>  <span class="dt">Z_1 =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>, <span class="dv">0</span>, <span class="dv">4</span>),</span>
<span id="cb138-10"><a href="tidyverse.html#cb138-10"></a>  <span class="dt">Z_2 =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>, <span class="dv">0</span>, <span class="dv">4</span>)</span>
<span id="cb138-11"><a href="tidyverse.html#cb138-11"></a>)</span>
<span id="cb138-12"><a href="tidyverse.html#cb138-12"></a></span>
<span id="cb138-13"><a href="tidyverse.html#cb138-13"></a><span class="kw">head</span>(stocks)</span></code></pre></div>
<pre><code>        time        X_1        X_2         Y_1        Y_2       Z_1       Z_2
1 2009-01-01 -0.2641620  0.3324894 -1.28260079  0.6485971 3.1140839  2.222888
2 2009-01-02 -0.9558847 -0.2512451  0.56337414 -2.8272202 1.2597687 -3.447661
3 2009-01-03 -0.3252029 -0.4531551 -1.52820756  1.3648205 0.1074207 -3.148614
4 2009-01-04 -0.1882798  1.7256369 -2.49258788  1.1522622 3.1093054 -8.835787
5 2009-01-05  0.5716932  0.6618466 -1.30694913 -0.8256239 0.8411574 -2.749538
6 2009-01-06 -0.1464944  1.5312680  0.02399582 -2.4967329 0.8335537  5.744123</code></pre>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="tidyverse.html#cb140-1"></a>stocks <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb140-2"><a href="tidyverse.html#cb140-2"></a><span class="st">  </span><span class="kw">pivot_longer</span>(</span>
<span id="cb140-3"><a href="tidyverse.html#cb140-3"></a>    <span class="dt">cols =</span> <span class="op">-</span>time,</span>
<span id="cb140-4"><a href="tidyverse.html#cb140-4"></a>    <span class="dt">names_to =</span> <span class="kw">c</span>(<span class="st">&#39;stock&#39;</span>, <span class="st">&#39;entry&#39;</span>),</span>
<span id="cb140-5"><a href="tidyverse.html#cb140-5"></a>    <span class="dt">names_sep =</span> <span class="st">&#39;_&#39;</span>,</span>
<span id="cb140-6"><a href="tidyverse.html#cb140-6"></a>    <span class="dt">values_to =</span> <span class="st">&#39;price&#39;</span></span>
<span id="cb140-7"><a href="tidyverse.html#cb140-7"></a>  ) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb140-8"><a href="tidyverse.html#cb140-8"></a><span class="st">  </span><span class="kw">head</span>()</span></code></pre></div>
<pre><code># A tibble: 6 x 4
  time       stock entry  price
  &lt;date&gt;     &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;
1 2009-01-01 X     1     -0.264
2 2009-01-01 X     2      0.332
3 2009-01-01 Y     1     -1.28 
4 2009-01-01 Y     2      0.649
5 2009-01-01 Z     1      3.11 
6 2009-01-01 Z     2      2.22 </code></pre>
<p>Note that the latter is an example of <span class="emph">tidy data</span> while the former is not. Why do we generally prefer such data? Precisely because the most common data operations, grouping, filtering, etc., would work notably more efficiently with such data. This is especially the case for visualization.</p>
<p>The following demonstrates the <span class="func" style="">separate</span> function utilized for a very common data processing task- dealing with names. Here’ we’ll separate <span class="objclass">player</span> into first and last names based on the space.</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="tidyverse.html#cb142-1"></a>bball <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb142-2"><a href="tidyverse.html#cb142-2"></a><span class="st">  </span><span class="kw">separate</span>(Player, <span class="dt">into=</span><span class="kw">c</span>(<span class="st">&#39;first_name&#39;</span>, <span class="st">&#39;last_name&#39;</span>), <span class="dt">sep=</span><span class="st">&#39; &#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb142-3"><a href="tidyverse.html#cb142-3"></a><span class="st">  </span><span class="kw">select</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb142-4"><a href="tidyverse.html#cb142-4"></a><span class="st">  </span><span class="kw">head</span>()</span></code></pre></div>
<pre><code>  Rk first_name last_name Pos Age
1  1       Álex   Abrines  SG  25
2  2     Quincy       Acy  PF  28
3  3     Jaylen     Adams  PG  22
4  4     Steven     Adams   C  25
5  5        Bam   Adebayo   C  21
6  6       Deng      Adel  SF  21</code></pre>
<p>Note that this won’t necessarily apply to every name, so further processing may be required.</p>
</div>
<div id="more-tidyverse" class="section level2">
<h2>More Tidyverse</h2>
<ul>
<li><p>dplyr functions: There are over a hundred utility functions that perform very common tasks. You really need to be aware of them, as their use will come up often.</p></li>
<li><p><span class="pack" style="">broom</span>: Convert statistical analysis objects from R into tidy data frames, so that they can more easily be combined, reshaped and otherwise processed with tools like dplyr, tidyr and ggplot2.</p></li>
<li><p>tidy*: a lot of packages out there are now ‘tidy’, though not a part of the official tidyverse. Some examples of the ones I’ve used:</p>
<ul>
<li><span class="pack" style="">tidycensus</span></li>
<li><span class="pack" style="">tidybayes</span></li>
<li><span class="pack" style="">tidytext</span></li>
<li><span class="pack" style="">modelr</span></li>
</ul></li>
</ul>
<p>Seriously, there are <a href="https://www.r-pkg.org/search.html?q=tidy">a lot</a>.</p>
</div>
<div id="personal-opinion" class="section level2">
<h2>Personal Opinion</h2>
<p>The <span class="pack">dplyr</span> grammar is clear for a lot of standard data processing tasks, and some not so common.</p>
<p>Extremely useful for data exploration and visualization.</p>
<ul>
<li>No need to create/overwrite existing objects</li>
<li>Can overwrite columns and use as they are created</li>
<li>Makes it easy to look at anything, and do otherwise tedious data checks</li>
</ul>
<p>Drawbacks:</p>
<ul>
<li>Not as fast as <span class="pack">data.table</span> or even some base R approaches for many things<a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a></li>
<li>The <em>mindset</em> can make for unnecessary complication
<ul>
<li>e.g. There is no need to pipe to create a single new variable</li>
</ul></li>
<li>Some approaches, are not very intuitive</li>
<li>Notably less ability to work with some very common data structures (e.g. matrices)</li>
</ul>
<p>All in all, if you’ve only been using base R approaches, the tidyverse will change your R life! It makes all the sorts of things you do all the time easier and clearer. Highly recommended!</p>
</div>
<div id="tidyverse-exercises" class="section level2">
<h2>tidyverse Exercises</h2>
<div id="exercise-0" class="section level3">
<h3>Exercise 0</h3>
<p>Install and load the <span class="pack">dplyr</span> <span class="pack">ggplot2movies</span> packages. Look at the help file for the <code>movies</code> data set, which contains data from IMDB.</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="tidyverse.html#cb144-1"></a><span class="kw">install.packages</span>(<span class="st">&#39;ggplot2movies&#39;</span>)</span>
<span id="cb144-2"><a href="tidyverse.html#cb144-2"></a><span class="kw">library</span>(ggplot2movies)</span>
<span id="cb144-3"><a href="tidyverse.html#cb144-3"></a><span class="kw">data</span>(<span class="st">&#39;movies&#39;</span>)</span></code></pre></div>
</div>
<div id="exercise-1" class="section level3">
<h3>Exercise 1</h3>
<p>Using the movies data set, perform each of the following actions separately.</p>
<div id="exercise-1a" class="section level4">
<h4>Exercise 1a</h4>
<p>Use <span class="func">mutate</span> to create a centered version of the rating variable. A centered variable is one whose mean has been subtracted from it. The process will take the following form:</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="tidyverse.html#cb145-1"></a>data <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb145-2"><a href="tidyverse.html#cb145-2"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">new_var_name =</span> <span class="st">&#39;?&#39;</span>)</span></code></pre></div>
</div>
<div id="exercise-1b" class="section level4">
<h4>Exercise 1b</h4>
<p>Use <span class="func">filter</span> to create a new data frame that has only movies from the years 2000 and beyond. Use the greater than or equal operator <code>&gt;=</code>.</p>
</div>
<div id="exercise-1c" class="section level4">
<h4>Exercise 1c</h4>
<p>Use <span class="func">select</span> to create a new data frame that only has the <code>title</code>, <code>year</code>, <code>budget</code>, <code>length</code>, <code>rating</code> and <code>votes</code> variables. There are at least 3 ways to do this.</p>
</div>
<div id="exercise-1d" class="section level4">
<h4>Exercise 1d</h4>
<p>Rename the <code>length</code> column to <code>length_in_min</code> (i.e. length in minutes).</p>
</div>
</div>
<div id="exercise-2" class="section level3">
<h3>Exercise 2</h3>
<p>Use <span class="func">group_by</span> to group the data by year, and <span class="func">summarize</span> to create a new variable that is the average budget. The <span class="func">summarize</span> function works just like <span class="func">mutate</span> in this case.</p>
<p>Use the <span class="func">mean</span> function to get the average, but you’ll also need to use the argument <code>na.rm = TRUE</code> within it because the earliest years have no budget recorded.</p>
</div>
<div id="exercise-3" class="section level3">
<h3>Exercise 3</h3>
<p>Use <span class="func">pivot_longer</span> to create a ‘tidy’ data set from the following.</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="tidyverse.html#cb146-1"></a>dat =<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">id =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>,</span>
<span id="cb146-2"><a href="tidyverse.html#cb146-2"></a>             <span class="dt">x =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>),</span>
<span id="cb146-3"><a href="tidyverse.html#cb146-3"></a>             <span class="dt">y =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>))</span></code></pre></div>
</div>
<div id="exercise-4" class="section level3">
<h3>Exercise 4</h3>
<p>Now put several actions together in one set of piped operations.</p>
<ul>
<li>Filter movies released <em>after</em> 1990</li>
<li>select the same variables as before but also the <code>mpaa</code>, <code>Action</code>, and <code>Drama</code> variables</li>
<li>group by <code>mpaa</code> <em>and</em> (your choice) <code>Action</code> <em>or</em> <code>Drama</code></li>
<li>get the average rating</li>
</ul>
<p>It should spit out something like the following:</p>
<pre><code># A tibble: 10 x 3
# Groups:   mpaa [5]
   mpaa    Drama AvgRating
   &lt;chr&gt;   &lt;int&gt;     &lt;dbl&gt;
 1 &quot;&quot;          0      5.94
 2 &quot;&quot;          1      6.20
 3 &quot;NC-17&quot;     0      4.28
 4 &quot;NC-17&quot;     1      4.62
 5 &quot;PG&quot;        0      5.19
 6 &quot;PG&quot;        1      6.15
 7 &quot;PG-13&quot;     0      5.44
 8 &quot;PG-13&quot;     1      6.14
 9 &quot;R&quot;         0      4.86
10 &quot;R&quot;         1      5.94</code></pre>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="2">
<li id="fn2"><p>You may be thinking- ‘it’s 2020 and why on earth would anyone do that?!’. Peruse most sports websites and you’ll see that fundamental web design basics escape them. See also, financial sites.<a href="tidyverse.html#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>If you’re following good programming practices, you’ll likely never use <span class="func">slice</span>.<a href="tidyverse.html#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p>For more than one function, you could have supplied `funs(function1, function2, …).<a href="tidyverse.html#fnref4" class="footnote-back">↩︎</a></p></li>
<li id="fn5"><p>As Hadley Wickham is from New Zealand, and his examples use <span class="func">summarise</span>, you’ll probably see it about as much as you do the other spelling, especially since it will come up first in autocomplete.<a href="tidyverse.html#fnref5" class="footnote-back">↩︎</a></p></li>
<li id="fn6"><p>Some still use <span class="pack">reshape2</span> but there is no reason to and it is no longer developed.<a href="tidyverse.html#fnref6" class="footnote-back">↩︎</a></p></li>
<li id="fn7"><p>There is <span class="pack">multidplyr</span>, <span class="pack" style="">dtplyr</span>, and now <span class="pack" style="">tidyfast</span> to help get as fast as possible for large data processing.<a href="tidyverse.html#fnref7" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="pipes.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data_table.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["twitter", "facebook", "weibo", "instapaper"],
"google": false,
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"depth": 2,
"scroll_highlight": true
},
"search": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
